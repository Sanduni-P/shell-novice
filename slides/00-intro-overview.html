<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Sanduni Rajapaksa">
  <meta name="dcterms.date" content="2026-02-25">
  <title>The Unix Shell ‚Äì Unix Shell Workshop</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-04ca4b803b7e6fc76d48b00b596e483a.css">
  <link rel="stylesheet" href="utils/custom.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Unix Shell Workshop</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Sanduni Rajapaksa 
</div>
</div>
</div>

  <p class="date">2026-02-25</p>
</section>
<section id="workshop-overview" class="slide level2">
<h2>Workshop Overview</h2>
<p><strong>Master the Unix shell (Bash) to:</strong></p>
<ul>
<li>Navigate your file system efficiently</li>
<li>Create, copy, move, and delete files and directories</li>
<li>Combine commands with pipes and filters</li>
<li>Automate repetitive tasks with loops</li>
<li>Write and execute shell scripts</li>
<li>Search files and text patterns</li>
</ul>
</section>
<section id="prerequisites" class="slide level2">
<h2>Prerequisites</h2>
<h4 id="step-1-download-files">Step 1: Download Files</h4>
<p>Download <a href="../episodes/data/shell-lesson-data.zip">shell-lesson-data.zip</a> and move it to your Desktop.</p>
<h4 id="step-2-extract-the-archive">Step 2: Extract the Archive</h4>
<p>Unzip/extract the file. You should end up with a new folder called:</p>
<p><strong><code>shell-lesson-data</code></strong> on your Desktop</p>
<h4 id="step-3-youre-ready">Step 3: You‚Äôre Ready!</h4>
<p>All data files will be in this directory for use throughout the workshop.</p>
</section>
<section id="workshop-structure" class="slide level2">
<h2>Workshop Structure</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Episode</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Introducing the Shell</td>
</tr>
<tr class="even">
<td>2</td>
<td>Navigating Files and Directories</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Working With Files and Directories</td>
</tr>
<tr class="even">
<td>4</td>
<td>File Permissions</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Pipes and Filters</td>
</tr>
<tr class="even">
<td>6</td>
<td>Loops</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Shell Scripts</td>
</tr>
<tr class="even">
<td>8</td>
<td>Finding Things</td>
</tr>
<tr class="odd">
<td>9</td>
<td>AWK for Text Processing</td>
</tr>
</tbody>
</table>
</section>
<section id="before-we-begin" class="slide level2">
<h2>Before We Begin‚Ä¶</h2>
<p>You can copy any command directly from the slides by clicking the <strong>clipboard icon</strong> on the right-hand side of each code block. Then paste it straight into your terminal.</p>

<img data-src="../episodes/fig/copy-code.png" alt="Clipboard icon on the right side of a code block" width="720" class="r-stretch"></section>
<section>
<section id="episode-1-introducing-the-shell" class="title-slide slide level1 nonincremental center">
<h1>Episode 1: Introducing the Shell</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>What is a command shell and why would I use one?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Explain how the shell relates to the keyboard, the screen, the operating system, and users‚Äô programs.</li>
<li>Explain when and why command-line interfaces should be used instead of graphical interfaces.</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="why-use-the-shell" class="slide level2">
<h2>Why Use the Shell?</h2>
<h3 id="the-problem-with-guis">The Problem with GUIs</h3>
<p>Imagine: Copy the 3rd line from 1,000 text files across 1,000 folders into one file.</p>
<div class="fragment">
<p><strong>Using a GUI:</strong></p>
<ul>
<li>Hours of clicking</li>
<li>High chance of error</li>
<li>Repetitive and tedious</li>
</ul>
</div>
<div class="fragment">
<p><strong>Using the Shell:</strong></p>
<ul>
<li>A few commands</li>
<li>Repeatable</li>
<li>Fast and accurate (seconds!)</li>
</ul>
</div>
</section>
<section id="what-is-the-shell" class="slide level2">
<h2>What is the Shell?</h2>
<div>
<ul>
<li class="fragment">A <strong>program</strong> that reads commands you type</li>
<li class="fragment">A <strong>command-line interface (CLI)</strong> - text-based</li>
<li class="fragment">Also a <strong>scripting language</strong> for automation</li>
<li class="fragment">Allows combining simple programs into powerful workflows</li>
<li class="fragment">The default way to interact with servers and supercomputers</li>
</ul>
</div>
</section>
<section id="bash-the-shell-were-using" class="slide level2">
<h2><code>Bash</code>: The Shell We‚Äôre Using</h2>
<p><strong>Bash</strong> = <strong>B</strong>ourne <strong>A</strong>gain <strong>S</strong>Hell</p>
<div>
<ul>
<li class="fragment">Most popular Unix shell</li>
<li class="fragment">Default on macOS, Linux, and Windows (via Git Bash)</li>
<li class="fragment">The standard for shell scripting</li>
<li class="fragment">Small number of ‚Äúwords‚Äù (commands) gets you far!</li>
</ul>
</div>
</section>
<section id="the-prompt" class="slide level2">
<h2>The Prompt</h2>
<p>When you open the shell, you see:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a></a><span class="ex">$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a></a><span class="ex">%</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The prompt indicates the shell is <strong>waiting for input</strong>.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Your prompt might look different:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a></a><span class="ex">nelle@localhost</span> $</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or even:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a></a><span class="ex">user@computer:~$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This shows your username and computer name.</p>
</div>
</div>
</div>
</section>
<section id="typing-commands" class="slide level2">
<h2>Typing Commands</h2>
<div>
<ul>
<li class="fragment"><strong>Type</strong> a command after the <code>$</code>/<code>%</code></li>
<li class="fragment"><strong>Press Enter</strong> to execute</li>
<li class="fragment">Results appear below</li>
<li class="fragment"><strong>Never type the <code>$</code>/<code>%</code></strong> - it‚Äôs just the prompt!</li>
</ul>
</div>
</section>
<section id="example-your-first-command" class="slide level2">
<h2>Example: Your First Command</h2>
<div>
<ul>
<li><code>ls</code> is short for listing.</li>
<li>This command will list the contents of the current directory:</li>
</ul>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a></a>Desktop     Downloads   Movies      Pictures</span>
<span id="cb6-2"><a></a>Documents   Library     Music       Public</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Command not found</strong></p>
</div>
<div class="callout-content">
<p>If the shell can‚Äôt find a program whose name is the command you typed, it will print an error message such as:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a></a><span class="ex">ks</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a></a>ks: command not found</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This might happen if the command was mis-typed or if the program corresponding to that command is not installed.</p>
</div>
</div>
</div>
</div>
</section>
<section id="nelles-pipeline-a-typical-problem" class="slide level2">
<h2>Nelle‚Äôs Pipeline: A Typical Problem</h2>
<h3 id="the-scenario">üß™ The Scenario</h3>
<p>Nelle Nemo, a marine biologist, has:</p>
<ul>
<li>üåä Returned from a 6-month North Pacific Gyre survey</li>
<li>üß´ Collected 1520 samples</li>
<li>üß¨ Measured 300 proteins per sample</li>
<li>üíª Needs to process all files using <code>goostats.sh</code></li>
<li>üìù Must submit her paper by the end of the month</li>
</ul>
</section>
<section id="nelles-pipeline-a-typical-problem-1" class="slide level2">
<h2>Nelle‚Äôs Pipeline: A Typical Problem</h2>
<h3 id="the-challenge">üö® The Challenge</h3>
<p>If Nelle runs <code>goostats.sh</code> manually (GUI):</p>
<ul>
<li>Open &amp; process 1520 files</li>
<li>‚è± 30 seconds per file</li>
<li>üïí 12+ hours of manual work</li>
<li>‚ùå Time lost that could be spent writing her paper</li>
</ul>
</section>
<section id="nelles-pipeline-a-typical-problem-2" class="slide level2">
<h2>Nelle‚Äôs Pipeline: A Typical Problem</h2>
<h3 id="the-solution-use-the-shell">üí° The Solution: Use the Shell</h3>
<p>With a command shell, Nelle can:</p>
<ul>
<li>Automate repetitive processing</li>
<li>Use loops to iterate over files</li>
<li>Run the pipeline once and reuse it</li>
<li>Let the computer work while she writes</li>
</ul>
</section>
<section id="nelles-pipeline-a-typical-problem-3" class="slide level2">
<h2>Nelle‚Äôs Pipeline: A Typical Problem</h2>
<h3 id="skills-nelle-needs">üõ† Skills Nelle Needs</h3>
<p>To build her pipeline, she must know how to:</p>
<ul>
<li>Navigate to a file/directory</li>
<li>Create a file/directory</li>
<li>Check the length of a file</li>
<li>Chain commands together</li>
<li>Retrieve a set of files</li>
<li>Iterate over files</li>
<li>Run a shell script containing her pipeline</li>
</ul>
</section></section>
<section>
<section id="episode-2-navigating-files-and-directories" class="title-slide slide level1 center">
<h1>Episode 2: Navigating Files and Directories</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How can I move around on my computer?</li>
<li>How can I see what files and directories I have?</li>
<li>How can I specify the location of a file or directory on my computer?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Explain the similarities and differences between a file and a directory.</li>
<li>Translate an absolute path into a relative path and vice versa.</li>
<li>Construct absolute and relative paths that identify specific files and directories.</li>
<li>Use options and arguments to change the behaviour of a shell command.</li>
<li>Demonstrate the use of tab completion and explain its advantages.</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="the-file-system" class="slide level2">
<h2>The File System</h2>
<div style="text-align: center;">
<p><strong>Files</strong> = store information</p>
<p><strong>Directories</strong> (folders) = store files or other directories</p>
</div>
</section>
<section id="the-file-system-tree" class="slide level2">
<h2>The File System Tree</h2>
<pre><code>/ (root)
‚îú‚îÄ‚îÄ bin
‚îú‚îÄ‚îÄ data
‚îú‚îÄ‚îÄ Users
‚îÇ   ‚îî‚îÄ‚îÄ nelle
‚îú‚îÄ‚îÄ tmp
‚îî‚îÄ‚îÄ ...</code></pre>
<p>The <strong>root directory</strong> is <code>/</code> - everything else is inside it.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../episodes/fig/filesystem.svg" class="quarto-figure quarto-figure-center" alt="Nelle's file system tree showing root and sub-directories" height="250"></p>
</figure>
</div>
</section>
<section id="what-these-folders-mean" class="slide level2">
<h2>What these folders mean</h2>
<ul>
<li><code>bin</code> = built-in programs and commands</li>
<li><code>data</code> = miscellaneous data files</li>
<li><code>Users</code> = user home directories (e.g., <code>/Users/nelle</code>)</li>
<li><code>tmp</code> = temporary files that don‚Äôt need long-term storage</li>
</ul>
</section>
<section id="pwd---print-working-directory" class="slide level2">
<h2><code>pwd</code> - Print Working Directory</h2>
<p><strong>Where are you right now?</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1"><a></a>/Users/nelle</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This shows your <strong>current working directory</strong> (your current location).</p>
</section>
<section id="your-home-directory" class="slide level2">
<h2>Your Home Directory</h2>
<p>The shell usually starts in your <strong>home directory</strong>:</p>
<ul>
<li><strong>macOS</strong>: <code>/Users/username</code></li>
<li><strong>Linux</strong>: <code>/home/username</code></li>
<li><strong>Windows</strong>: <code>C:\Users\username</code></li>
</ul>
</section>
<section id="ls---list-files-and-directories" class="slide level2">
<h2><code>ls</code> - List Files and Directories</h2>
<p><strong>What‚Äôs in your current location?</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a></a><span class="ex">$</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1"><a></a>Applications  Documents    Library      Music        Public</span>
<span id="cb13-2"><a></a>Desktop      Downloads    Movies       Pictures</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="making-ls-output-clearer" class="slide level2">
<h2>Making <code>ls</code> Output Clearer</h2>
<p>Use the <code>-F</code> flag to mark file types:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb15-1"><a></a>Applications/  Documents/    Library/      Music/        Public/</span>
<span id="cb15-2"><a></a>Desktop/       Downloads/    Movies/       Pictures/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li><code>/</code> after name = <strong>directory</strong></li>
<li><code>*</code> after name = <strong>executable file</strong></li>
<li><code>@</code> after name = <strong>symbolic link</strong></li>
<li>No marker = <strong>regular file</strong></li>
</ul>
</div>
</div>
</div>
</section>
<section id="clearing-your-terminal" class="slide level2">
<h2>Clearing Your Terminal</h2>
<p>If your screen gets cluttered:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a></a><span class="fu">clear</span> <span class="at">-x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can still access previous commands using <kbd>‚Üë</kbd> and <kbd>‚Üì</kbd> to move line-by-line, or by scrolling in your terminal after <code>clear -x</code>.</p>
<p>For some Bash configurations, <code>clear</code> may also clear the scrollbuffer</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p><strong>Shortcut:</strong> Press <kbd>Ctrl</kbd>+<kbd>L</kbd> to clear the screen.</p>
</div>
</div>
</div>
</section>
<section id="getting-help" class="slide level2 nonincremental">
<h2>Getting Help</h2>
<p>There are two common ways to learn command options:</p>
<ol type="1">
<li><code>--help</code> (Linux and Git Bash)</li>
</ol>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a></a><span class="fu">ls</span> <span class="at">--help</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li><code>man</code> (Linux and macOS)</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a></a><span class="fu">man</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Press <kbd>q</kbd> to quit the manual.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p><strong>Built-in commands:</strong> If <code>man cd</code> fails, try <code>help cd</code> instead.</p>
</div>
</div>
</div>
</section>
<section id="the---help-option" class="slide level2">
<h2>The <code>--help</code> Option</h2>
<p><code>--help</code> option displays more information on how to use the command or program.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a></a><span class="fu">ls</span> <span class="at">--help</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb20-1"><a></a>Usage: ls [OPTION]... [FILE]...</span>
<span id="cb20-2"><a></a>List information about the FILEs (the current directory by default).</span>
<span id="cb20-3"><a></a>Sort entries alphabetically if neither -cftuvSUX nor --sort is specified.</span>
<span id="cb20-4"><a></a></span>
<span id="cb20-5"><a></a>Mandatory arguments to long options are mandatory for short options, too.</span>
<span id="cb20-6"><a></a>  -a, --all                  do not ignore entries starting with .</span>
<span id="cb20-7"><a></a>  -A, --almost-all           do not list implied . and ..</span>
<span id="cb20-8"><a></a>      --author               with -l, print the author of each file</span>
<span id="cb20-9"><a></a>  -b, --escape               print C-style escapes for nongraphic characters</span>
<span id="cb20-10"><a></a>      --block-size=SIZE      scale sizes by SIZE before printing them; e.g.,</span>
<span id="cb20-11"><a></a>                               '--block-size=M' prints sizes in units of</span>
<span id="cb20-12"><a></a>                               1,048,576 bytes; see SIZE format below</span>
<span id="cb20-13"><a></a>  -B, --ignore-backups       do not list implied entries ending with ~</span>
<span id="cb20-14"><a></a>  -c                         with -lt: sort by, and show, ctime (time of last</span>
<span id="cb20-15"><a></a>                               modification of file status information);</span>
<span id="cb20-16"><a></a>                               with -l: show ctime and sort by name;</span>
<span id="cb20-17"><a></a>                               otherwise: sort by ctime, newest first</span>
<span id="cb20-18"><a></a>  -C                         list entries by columns</span>
<span id="cb20-19"><a></a>      --color[=WHEN]         colorize the output; WHEN can be 'always' (default</span>
<span id="cb20-20"><a></a>                               if omitted), 'auto', or 'never'; more info below</span>
<span id="cb20-21"><a></a>  -d, --directory            list directories themselves, not their contents</span>
<span id="cb20-22"><a></a>  -D, --dired                generate output designed for Emacs' dired mode</span>
<span id="cb20-23"><a></a>  -f                         do not sort, enable -aU, disable -ls --color</span>
<span id="cb20-24"><a></a>  -F, --classify             append indicator (one of */=&gt;@|) to entries</span>
<span id="cb20-25"><a></a>...        ...        ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="short-vs-long-options" class="slide level2">
<h2>Short vs Long Options</h2>
<p>Use <strong>short options</strong> when typing commands into the shell to minimize keystrokes and get your task done faster:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a></a><span class="fu">ls</span> <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Use <strong>long options</strong> in scripts for clarity:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a></a><span class="fu">ls</span> <span class="at">--classify</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="unsupported-command-options" class="slide level2">
<h2>Unsupported Command Options</h2>
<p>If you use an option the command doesn‚Äôt support, you‚Äôll see an error:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a></a><span class="fu">ls</span> <span class="at">-j</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb24-1"><a></a>ls: invalid option -- 'j'</span>
<span id="cb24-2"><a></a>Try 'ls --help' for more information.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-man-command" class="slide level2">
<h2>The <code>man</code> command</h2>
<p>This command will turn your terminal into a page with a description of the <code>ls</code> command and its options.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a></a><span class="fu">man</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To navigate through the <code>man</code> pages,</p>
<ul>
<li>use <kbd>‚Üë</kbd> and <kbd>‚Üì</kbd> to move line-by-line</li>
<li>try <kbd>b</kbd> and <kbd>Spacebar</kbd> to skip up and down by a full page.</li>
<li>use <kbd>/</kbd> followed by the character or word you are searching for to find it in the manual.</li>
<li>Sometimes a search will result in multiple hits. If so, you can move between hits using <kbd>N</kbd> (for moving forward) and <kbd>Shift</kbd>+<kbd>N</kbd> (for moving backward).</li>
<li>press <kbd>q</kbd> to quit the manual and return to the command prompt.</li>
</ul>
</section>
<section id="manual-pages-on-the-web" class="slide level2">
<h2>Manual pages on the web</h2>
<ul>
<li>The third way to access help for commands is to search for the manual page on the web.</li>
<li>When using internet search, including the phrase <code>unix man page</code> in your search query will help to find relevant results.</li>
</ul>
</section>
<section id="challenge" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Exploring More <code>ls</code> Options</strong></p>
</div>
<div class="callout-content">
<p>You can also use two options at the same time. What does the command <code>ls</code> do when used with the <code>-l</code> option? What about if you use both the <code>-l</code> and the <code>-h</code> option?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The <code>-l</code> option makes <code>ls</code> use a <strong>l</strong>ong listing format, showing not only the file/directory names but also additional information, such as the file size and the time of its last modification. If you use both the <code>-h</code> option and the <code>-l</code> option, this makes the file size ‚Äò<strong>h</strong>uman readable‚Äô, i.e.&nbsp;displaying something like <code>5.3K</code> instead of <code>5369</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-1" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Listing in Reverse Chronological Order</strong></p>
</div>
<div class="callout-content">
<p>By default, <code>ls</code> lists the contents of a directory in alphabetical order by name. The command <code>ls -t</code> lists items by time of last change instead of alphabetically. The command <code>ls -r</code> lists the contents of a directory in reverse order. Which file is displayed last when you combine the <code>-t</code> and <code>-r</code> options? Hint: You may need to use the <code>-l</code> option to see the last changed dates.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-2" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The most recently changed file is listed last when using <code>-rt</code>. This can be very useful for finding your most recent edits or checking to see if a new output file was written.</p>
</div>
</div>
</div>
</div>
</section>
<section id="exploring-other-directories" class="slide level2">
<h2>Exploring Other Directories</h2>
<p>List contents of the Desktop directory:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb27-1"><a></a>shell-lesson-data/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that if a directory named <code>Desktop</code> does not exist in your current working directory, this command will return an error.</p>
</section>
<section id="cd---change-directory" class="slide level2">
<h2><code>cd</code> - Change Directory</h2>
<p><strong>Move to a different location</strong></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a></a><span class="ex">$</span> cd Desktop</span>
<span id="cb28-2"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb29-1"><a></a>/Users/nelle/Desktop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice: <code>cd</code> produces no output, but <code>pwd</code> confirms you moved!</p>
</section>
<section id="moving-into-subdirectories" class="slide level2">
<h2>Moving Into Subdirectories</h2>
<p>Go deeper into the file structure:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a></a><span class="ex">$</span> cd Desktop/shell-lesson-data</span>
<span id="cb30-2"><a></a><span class="ex">$</span> cd exercise-data</span>
<span id="cb30-3"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb31-1"><a></a>/Users/nelle/Desktop/shell-lesson-data/exercise-data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="listing-current-directory" class="slide level2">
<h2>Listing Current Directory</h2>
<p>Check what‚Äôs here:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb33-1"><a></a>alkanes/  animal-counts/  creatures/  numbers.txt  writing/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="moving-up-one-level-.." class="slide level2">
<h2>Moving Up One Level: <code>..</code></h2>
<p>To go to the <strong>parent directory</strong> (one level up):</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a></a><span class="ex">$</span> cd ..</span>
<span id="cb34-2"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb35-1"><a></a>/Users/nelle/Desktop/shell-lesson-data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>..</code> = ‚Äúthe directory containing this one‚Äù</p>
</section>
<section id="current-directory-." class="slide level2">
<h2>Current Directory: <code>.</code></h2>
<p>To refer to the <strong>current directory</strong>:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span> .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This lists the current directory (same as just <code>ls -F</code>).</p>
</section>
<section id="special-symbols-in-paths" class="slide level2">
<h2>Special Symbols in Paths</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Symbol</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>/</code> at start</td>
<td>Root directory</td>
</tr>
<tr class="even">
<td><code>/</code> between names</td>
<td>Path separator</td>
</tr>
<tr class="odd">
<td><code>..</code></td>
<td>Parent directory</td>
</tr>
<tr class="even">
<td><code>.</code></td>
<td>Current directory</td>
</tr>
<tr class="odd">
<td><code>~</code></td>
<td>Home directory</td>
</tr>
<tr class="even">
<td><code>-</code></td>
<td>Previous directory</td>
</tr>
</tbody>
</table>
</section>
<section id="hidden-files-and-directories" class="slide level2">
<h2>Hidden Files and Directories</h2>
<p>The special directory <code>..</code> doesn‚Äôt usually show up when we run <code>ls</code>. To display it, add the <code>-a</code> option:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span> <span class="at">-a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb38-1"><a></a>./  ../  exercise-data/  north-pacific-gyre/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="other-hidden-files" class="slide level2">
<h2>Other Hidden Files</h2>
<div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>In addition to <code>..</code> and <code>.</code>, you may see files like <code>.bash_profile</code> or <code>.gitignore</code>.</p>
<ul>
<li>These files usually contain shell configuration settings</li>
<li>The prefix <code>.</code> prevents them from cluttering the terminal</li>
<li>Use <code>ls -a</code> to see them</li>
<li>Multiple options can be combined: <code>ls -F -a</code> = <code>ls -Fa</code></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="two-types-of-paths" class="slide level2 nonincremental">
<h2>Two Types of Paths</h2>
<div class="fragment">
<h3 id="absolute-path">Absolute Path</h3>
<ul>
<li>Starts with <code>/</code></li>
<li>Works from <strong>anywhere</strong> on the computer</li>
<li>Example: <code>/Users/nelle/Desktop/shell-lesson-data</code></li>
</ul>
</div>
<div class="fragment">
<h3 id="relative-path">Relative Path</h3>
<ul>
<li>Does <strong>not</strong> start with <code>/</code></li>
<li>Depends on <strong>where you are now</strong></li>
<li>Example: <code>Desktop/shell-lesson-data</code></li>
</ul>
</div>
</section>
<section id="home-directory-shortcut" class="slide level2">
<h2>Home Directory Shortcut</h2>
<p>Use <code>~</code> to mean your home directory:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a></a><span class="ex">$</span> cd ~/Desktop</span>
<span id="cb39-2"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb40-1"><a></a>/Users/nelle/Desktop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="return-to-home" class="slide level2">
<h2>Return to Home</h2>
<p><code>cd</code> with no arguments returns to home:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a></a><span class="ex">$</span> cd</span>
<span id="cb41-2"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb42-1"><a></a>/Users/nelle</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="navigate-back-and-forth" class="slide level2">
<h2>Navigate Back and Forth</h2>
<p>Go to previous directory with <code>-</code>:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a></a><span class="ex">$</span> cd <span class="at">-</span></span>
<span id="cb43-2"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb44-1"><a></a>/Users/nelle/Desktop/shell-lesson-data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Great for switching between two locations!</p>
</section>
<section id="tab-completion" class="slide level2">
<h2>Tab Completion</h2>
<p><strong>Save typing! Use Tab to auto-complete:</strong></p>
<p>Type: <code>ls nor</code> then press <strong>Tab</strong></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a></a><span class="ex">$</span> ls nor<span class="pp">[</span><span class="ss">TAB</span><span class="pp">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Becomes:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a></a><span class="ex">$</span> ls north-pacific-gyre/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If multiple options, press Tab twice to see all.</p>
</section>
<section id="general-syntax-of-a-shell-command" class="slide level2">
<h2>General Syntax of a Shell Command</h2>
<p>We have now encountered <strong>commands</strong>, <strong>options</strong>, and <strong>arguments</strong>.</p>
<p>Consider this example:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a></a><span class="fu">ls</span> <span class="at">-F</span> /</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../episodes/fig/shell_command_syntax.svg" class="quarto-figure quarto-figure-center" alt="General syntax of a shell command" height="300"></p>
</figure>
</div>
</section>
<section id="challenge-2" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Absolute vs Relative Paths</strong></p>
</div>
<div class="callout-content">
<p>Starting from <code>/Users/nelle/data</code>, which of the following commands could Nelle use to navigate to her home directory, which is <code>/Users/nelle</code>?</p>
<ol type="1">
<li><code>cd .</code></li>
<li><code>cd /</code></li>
<li><code>cd /home/nelle</code></li>
<li><code>cd ../..</code></li>
<li><code>cd ~</code></li>
<li><code>cd home</code></li>
<li><code>cd ~/data/..</code></li>
<li><code>cd</code></li>
<li><code>cd ..</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-4" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>No: <code>.</code> stands for the current directory.</li>
<li>No: <code>/</code> stands for the root directory.</li>
<li>No: Nelle‚Äôs home directory is <code>/Users/nelle</code>.</li>
<li>No: this command goes up two levels, i.e.&nbsp;ends in <code>/Users</code>.</li>
<li>Yes: <code>~</code> stands for the user‚Äôs home directory, in this case <code>/Users/nelle</code>.</li>
<li>No: this command would navigate into a directory <code>home</code> in the current directory if it exists.</li>
<li>Yes: unnecessarily complicated, but correct.</li>
<li>Yes: shortcut to go back to the user‚Äôs home directory.</li>
<li>Yes: goes up one level.</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-3" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Relative Path Resolution</strong></p>
</div>
<div class="callout-content">
<p>Using the filesystem diagram below, if <code>pwd</code> displays <code>/Users/thing</code>, what will <code>ls -F ../backup</code> display?</p>
<ol type="1">
<li><code>../backup: No such file or directory</code></li>
<li><code>2012-12-01 2013-01-08 2013-01-27</code></li>
<li><code>2012-12-01/ 2013-01-08/ 2013-01-27/</code></li>
<li><code>original/ pnas_final/ pnas_sub/</code></li>
</ol>
<p><img data-src="../episodes/fig/filesystem-challenge.svg" alt="A directory tree below the Users directory where &quot;/Users&quot; contains the directories &quot;backup&quot; and &quot;thing&quot;; &quot;/Users/backup&quot; contains &quot;original&quot;,&quot;pnas_final&quot; and &quot;pnas_sub&quot;; &quot;/Users/thing&quot; contains &quot;backup&quot;; and&quot;/Users/thing/backup&quot; contains &quot;2012-12-01&quot;, &quot;2013-01-08&quot; and&quot;2013-01-27&quot;"></p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-6" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>No: there <em>is</em> a directory <code>backup</code> in <code>/Users</code>.</li>
<li>No: this is the content of <code>Users/thing/backup</code>, but with <code>..</code>, we asked for one level further up.</li>
<li>No: see previous explanation.</li>
<li>Yes: <code>../backup/</code> refers to <code>/Users/backup/</code>.</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-4" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><code>ls</code> Reading Comprehension</strong></p>
</div>
<div class="callout-content">
<p>Using the filesystem diagram below, if <code>pwd</code> displays <code>/Users/backup</code>, and <code>-r</code> tells <code>ls</code> to display things in reverse order, what command(s) will result in the following output:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb48-1"><a></a>pnas_sub/ pnas_final/ original/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img data-src="../episodes/fig/filesystem-challenge.svg" alt="A directory tree below the Users directory where &quot;/Users&quot; contains the directories &quot;backup&quot; and &quot;thing&quot;; &quot;/Users/backup&quot; contains &quot;original&quot;,&quot;pnas_final&quot; and &quot;pnas_sub&quot;; &quot;/Users/thing&quot; contains &quot;backup&quot;; and&quot;/Users/thing/backup&quot; contains &quot;2012-12-01&quot;, &quot;2013-01-08&quot; and&quot;2013-01-27&quot;"></p>
<ol type="1">
<li><code>ls pwd</code></li>
<li><code>ls -r -F</code></li>
<li><code>ls -r -F /Users/backup</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-8" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>No: <code>pwd</code> is not the name of a directory.</li>
<li>Yes: <code>ls</code> without directory argument lists files and directories in the current directory.</li>
<li>Yes: uses the absolute path explicitly.</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="nelles-pipeline-organizing-files" class="slide level2">
<h2>Nelle‚Äôs Pipeline: Organizing Files</h2>
<p>Nelle is ready to organize the files from the protein assay machine.</p>
<div>
<ul>
<li class="fragment">Creates directory <code>north-pacific-gyre</code> for her data</li>
<li class="fragment">Each sample has a unique 10-character ID (e.g., <code>NENE01729A</code>)</li>
<li class="fragment">Files named like <code>NENE01729A.txt</code>, <code>NENE01812A.txt</code>, etc.</li>
<li class="fragment">All 1520 files in the same directory</li>
</ul>
</div>
</section>
<section id="using-tab-completion" class="slide level2">
<h2>Using Tab Completion</h2>
<p>Nelle can see her files:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a></a><span class="ex">$</span> ls north-pacific-gyre/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But that‚Äôs a lot to type! She can use <strong>tab completion</strong>:</p>
<div>
<ol type="1">
<li class="fragment">Type <code>ls nor</code> and press <kbd>Tab</kbd></li>
<li class="fragment">Shell completes to <code>ls north-pacific-gyre/</code></li>
<li class="fragment">Pressing <kbd>Tab</kbd> again shows multiple files</li>
<li class="fragment">Type <code>ls north-pacific-gyre/goo</code> and press <kbd>Tab</kbd> for files starting with ‚Äúgoo‚Äù</li>
</ol>
</div>
</section></section>
<section>
<section id="episode-3-working-with-files-and-directories" class="title-slide slide level1 center">
<h1>Episode 3: Working With Files and Directories</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How can I create, copy, and delete files and directories?</li>
<li>How can I edit files?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Delete, copy and move specified files and/or directories.</li>
<li>Create files in that hierarchy using an editor or by copying and renaming existing files.</li>
<li>Create a directory hierarchy that matches a given diagram.</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="creating-directories" class="slide level2">
<h2>Creating Directories</h2>
<p>We now know how to explore files and directories, but how do we create them?</p>
<h3 id="where-are-we">Where Are We?</h3>
<p>First, check where we are:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a></a><span class="bu">pwd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb51-1"><a></a>/Users/nelle/Desktop/shell-lesson-data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Move to <code>exercise-data/writing</code> and see what‚Äôs there:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a></a><span class="bu">cd</span> exercise-data/writing/</span>
<span id="cb52-2"><a></a><span class="fu">ls</span> <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb53-1"><a></a>haiku.txt  LittleWomen.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="creating-a-directory" class="slide level2">
<h2>Creating a Directory</h2>
<p>Create a new directory called <code>thesis</code>:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a></a><span class="fu">mkdir</span> thesis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>mkdir</code> means ‚Äúmake directory‚Äù</p>
<p>Check it was created:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a></a><span class="fu">ls</span> <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb56-1"><a></a>haiku.txt  LittleWomen.txt  thesis/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="verify-the-directory-is-empty" class="slide level2">
<h2>Verify the Directory is Empty</h2>
<p>Since we just created it:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a></a><span class="fu">ls</span> <span class="at">-F</span> thesis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>No output means the directory is empty.</p>
</section>
<section id="creating-nested-directories" class="slide level2">
<h2>Creating Nested Directories</h2>
<p>The <code>-p</code> option creates nested subdirectories in one operation:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a></a><span class="fu">mkdir</span> <span class="at">-p</span> ../project/data ../project/results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Use <code>ls -FR</code> to recursively list the new hierarchy:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a></a><span class="fu">ls</span> <span class="at">-FR</span> ../project</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb60-1"><a></a>../project/:</span>
<span id="cb60-2"><a></a>data/  results/</span>
<span id="cb60-3"><a></a></span>
<span id="cb60-4"><a></a>../project/data:</span>
<span id="cb60-5"><a></a></span>
<span id="cb60-6"><a></a>../project/results:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="two-ways-of-doing-the-same-thing" class="slide level2">
<h2>Two Ways of Doing the Same Thing</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Using the shell to create a directory is no different than using a file explorer.</p>
<p>If you open the current directory using your operating system‚Äôs graphical file explorer, the <code>thesis</code> directory will appear there too.</p>
<p>The shell and the file explorer are two different ways of interacting with the files, but the files and directories themselves are the same.</p>
</div>
</div>
</div>
</section>
<section id="good-names-for-files-and-directories" class="slide level2">
<h2>Good Names for Files and Directories</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p><strong>Tips for naming files and directories:</strong></p>
<ol type="1">
<li><p><strong>Don‚Äôt use spaces</strong> - Use <code>-</code> or <code>_</code> instead</p>
<ul>
<li>Good: <code>north-pacific-gyre/</code></li>
<li>Bad: <code>north pacific gyre/</code></li>
</ul></li>
<li><p><strong>Don‚Äôt begin with <code>-</code></strong> - Commands treat these as options</p></li>
<li><p><strong>Stick with:</strong> lowercase letters, numbers, <code>.</code>, <code>-</code>, <code>_</code></p>
<ul>
<li>Many special characters have special meanings</li>
</ul></li>
</ol>
</div>
</div>
</div>
</section>
<section id="spaces-and-special-characters" class="slide level2">
<h2>Spaces and Special Characters</h2>
<p>If you need to refer to names with spaces or special characters, surround the name in quotes:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a></a><span class="st">'my file with spaces.txt'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Best practice:</strong></p>
<div>
<ul>
<li>Use all lowercase letters</li>
<li>Windows and macOS are typically case insensitive</li>
<li>Can‚Äôt distinguish between <code>thesis</code> and <code>Thesis</code> in same directory</li>
</ul>
</div>
</section>
<section id="creating-a-text-file" class="slide level2">
<h2>Creating a Text File</h2>
<p>Change to <code>thesis</code> directory and create a file with <code>nano</code>:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a></a><span class="bu">cd</span> thesis</span>
<span id="cb62-2"><a></a><span class="fu">nano</span> draft.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>nano</code> is a simple text editor that runs in your terminal.</p>
</section>
<section id="which-editor" class="slide level2">
<h2>Which Editor?</h2>
<div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p><code>nano</code> is a text editor - it only works with plain character data.</p>
<p><strong>Other options:</strong></p>
<ul>
<li>Unix: <a href="https://www.gnu.org/software/emacs/">Emacs</a>, <a href="https://www.vim.org/">Vim</a>, <a href="https://projects.gnome.org/gedit/">Gedit</a>, <a href="https://code.visualstudio.com/">VSCode</a></li>
<li>Windows: <a href="https://notepad-plus-plus.org/">Notepad++</a>, <code>notepad</code></li>
</ul>
<p><strong>Important:</strong> Know where your editor searches for and saves files!</p>
</div>
</div>
</div>
</div>
</section>
<section id="using-nano" class="slide level2">
<h2>Using nano</h2>
<p>Type some text,</p>

<img data-src="../episodes/fig/nano-screenshot.png" alt="screenshot of nano text editor in action with the text It's not publish or perish any more, it's share and thrive" class="r-stretch"><p>Then,</p>
<ol type="1">
<li>Press <kbd>Ctrl</kbd>+<kbd>O</kbd> to write data to disk</li>
<li>Press <kbd>Return</kbd> to accept filename <code>draft.txt</code></li>
<li>Press <kbd>Ctrl</kbd>+<kbd>X</kbd> to quit and return to shell</li>
</ol>
</section>
<section id="control-key-notation" class="slide level2">
<h2>Control Key Notation</h2>
<div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>The Control key can be described in various ways:</p>
<ul>
<li><code>Control-X</code>, <code>Control+X</code></li>
<li><code>Ctrl-X</code>, <code>Ctrl+X</code></li>
<li><code>^X</code></li>
<li><code>C-x</code></li>
</ul>
<p>In nano, the bottom shows: <code>^G Get Help ^O WriteOut</code></p>
<p>This means <kbd>Ctrl</kbd>+<kbd>G</kbd> for help, <kbd>Ctrl</kbd>+<kbd>O</kbd> to save.</p>
</div>
</div>
</div>
</div>
</section>
<section id="verify-file-creation" class="slide level2">
<h2>Verify File Creation</h2>
<p><code>nano</code> doesn‚Äôt leave output, but <code>ls</code> confirms the file exists:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb64-1"><a></a>draft.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="challenge-5" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Creating Files a Different Way</strong></p>
</div>
<div class="callout-content">
<p>Try this command:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a></a><span class="fu">touch</span> my_file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><p>What did the <code>touch</code> command do? When you look at your current directory using the GUI file explorer, does the file show up?</p></li>
<li><p>Use <code>ls -l</code> to inspect the files. How large is <code>my_file.txt</code>?</p></li>
<li><p>When might you want to create a file this way?</p></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-10" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li><p>The <code>touch</code> command generates a new file called <code>my_file.txt</code> in your current directory. You can observe this newly generated file by typing <code>ls</code> at the command line prompt. <code>my_file.txt</code> can also be viewed in your GUI file explorer.</p></li>
<li><p>When you inspect the file with <code>ls -l</code>, note that the size of <code>my_file.txt</code> is 0 bytes. In other words, it contains no data. If you open <code>my_file.txt</code> using your text editor it is blank.</p></li>
<li><p>Some programs do not generate output files themselves, but instead require that empty files have already been generated. When the program is run, it searches for an existing file to populate with its output. The <code>touch</code> command allows you to efficiently generate a blank text file to be used by such programs.</p></li>
</ol>
<p>To avoid confusion later on, we suggest removing the file you‚Äôve just created before proceeding with the rest of the episode, otherwise future outputs may vary from those given in the lesson. To do this, use the following command:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><a></a><span class="fu">rm</span> my_file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="whats-in-a-name" class="slide level2">
<h2>What‚Äôs In A Name?</h2>
<div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Most file names are <code>something.extension</code>:</p>
<ul>
<li><code>.txt</code> = plain text file</li>
<li><code>.pdf</code> = PDF document</li>
<li><code>.cfg</code> = configuration file</li>
<li><code>.png</code> = PNG image</li>
</ul>
<p><strong>Important:</strong> This is just a convention! Files contain bytes. Naming <code>whale.png</code> as <code>whale.mp3</code> doesn‚Äôt make it a sound file - it might just confuse programs trying to open it.</p>
</div>
</div>
</div>
</div>
</section>
<section id="moving-files-and-directories" class="slide level2">
<h2>Moving Files and Directories</h2>
<p>Return to the <code>writing</code> directory:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb67-1"><a></a><span class="bu">cd</span> ~/Desktop/shell-lesson-data/exercise-data/writing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>draft.txt</code> isn‚Äôt a very informative name. Let‚Äôs rename it using <code>mv</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a></a><span class="fu">mv</span> thesis/draft.txt thesis/quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="how-mv-works" class="slide level2">
<h2>How <code>mv</code> Works</h2>
<p><code>mv [old] [new]</code> moves or renames files</p>
<p>Check the result:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb69-1"><a></a><span class="fu">ls</span> thesis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb70-1"><a></a>quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Warning:</strong> <code>mv</code> will silently overwrite existing files with the same name!</p>
<p>Use <code>mv -i</code> or <code>mv --interactive</code> to ask for confirmation before overwriting.</p>
</section>
<section id="moving-to-current-directory" class="slide level2">
<h2>Moving to Current Directory</h2>
<p>Move <code>quotes.txt</code> to the current working directory:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb71-1"><a></a><span class="fu">mv</span> thesis/quotes.txt .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>.</code> means ‚Äúcurrent directory‚Äù</p>
<p>Verify <code>thesis</code> is now empty:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb72-1"><a></a><span class="fu">ls</span> thesis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb73"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb73-1"><a></a>$</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="confirming-file-location" class="slide level2">
<h2>Confirming File Location</h2>
<p>Try to list the file in <code>thesis</code>:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb74-1"><a></a><span class="fu">ls</span> thesis/quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb75"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb75-1"><a></a>ls: cannot access 'thesis/quotes.txt': No such file or directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Confirm it‚Äôs in current directory:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb76-1"><a></a><span class="fu">ls</span> quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb77"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb77-1"><a></a>quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="challenge-6" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Moving Files to a new folder</strong></p>
</div>
<div class="callout-content">
<p>After running the following commands, Jamie realizes that she put the files <code>sucrose.dat</code> and <code>maltose.dat</code> into the wrong folder. The files should have been placed in the <code>raw</code> folder.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb78-1"><a></a><span class="fu">ls</span> <span class="at">-F</span></span>
<span id="cb78-2"><a></a> <span class="ex">analyzed/</span> raw/</span>
<span id="cb78-3"><a></a><span class="fu">ls</span> <span class="at">-F</span> analyzed</span>
<span id="cb78-4"><a></a><span class="ex">fructose.dat</span> glucose.dat maltose.dat sucrose.dat</span>
<span id="cb78-5"><a></a><span class="bu">cd</span> analyzed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Fill in the blanks to move these files to the <code>raw/</code> folder (i.e.&nbsp;the one she forgot to put them in)</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb79-1"><a></a><span class="fu">mv</span> sucrose.dat maltose.dat ____/____</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-12" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb80"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb80-1"><a></a><span class="fu">mv</span> sucrose.dat maltose.dat ../raw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Recall that <code>..</code> refers to the parent directory (i.e.&nbsp;one above the current directory) and that <code>.</code> refers to the current directory.</p>
</div>
</div>
</div>
</div>
</section>
<section id="copying-files-and-directories" class="slide level2">
<h2>Copying Files and Directories</h2>
<p>The <code>cp</code> command copies instead of moving:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb81-1"><a></a><span class="fu">cp</span> quotes.txt thesis/quotations.txt</span>
<span id="cb81-2"><a></a><span class="fu">ls</span> quotes.txt thesis/quotations.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb82"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb82-1"><a></a>quotes.txt   thesis/quotations.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>ls</code> can take multiple paths to show multiple files at once.</p>
</section>
<section id="copying-directories" class="slide level2">
<h2>Copying Directories</h2>
<p>Use the <code>-r</code> (recursive) option to copy directories:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb83-1"><a></a><span class="fu">cp</span> <span class="at">-r</span> thesis thesis_backup</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Check both directories:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb84-1"><a></a><span class="fu">ls</span> thesis thesis_backup</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb85"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb85-1"><a></a>thesis:</span>
<span id="cb85-2"><a></a>quotations.txt</span>
<span id="cb85-3"><a></a></span>
<span id="cb85-4"><a></a>thesis_backup:</span>
<span id="cb85-5"><a></a>quotations.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="forgetting--r-when-copying-directories" class="slide level2">
<h2>Forgetting <code>-r</code> When Copying Directories</h2>
<p>If you omit <code>-r</code> when copying a directory:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb86-1"><a></a><span class="fu">cp</span> thesis thesis_backup</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb87"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb87-1"><a></a>cp: -r not specified; omitting directory 'thesis'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>-r</code> flag is <strong>required</strong> to copy directories.</p>
</section>
<section id="challenge-7" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Renaming Files</strong></p>
</div>
<div class="callout-content">
<p>Suppose that you created a plain-text file in your current directory to contain a list of the statistical tests you will need to do to analyze your data, and named it <code>statstics.txt</code></p>
<p>After creating and saving this file you realize you misspelled the filename! You want to correct the mistake, which of the following commands could you use to do so?</p>
<ol type="1">
<li><code>cp statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt .</code></li>
<li><code>cp statstics.txt .</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-14" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>No.&nbsp;While this would create a file with the correct name, the incorrectly named file still exists in the directory and would need to be deleted.</li>
<li>Yes, this would work to rename the file.</li>
<li>No, the period(.) indicates where to move the file, but does not provide a new file name; identical file names cannot be created.</li>
<li>No, the period(.) indicates where to copy the file, but does not provide a new file name; identical file names cannot be created.</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-8" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Moving and Copying</strong></p>
</div>
<div class="callout-content">
<p>What is the output of the closing <code>ls</code> command in the sequence shown below?</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb88-1"><a></a><span class="bu">pwd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb89"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb89-1"><a></a>/Users/jamie/data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb90"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb90-1"><a></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb91"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb91-1"><a></a>proteins.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb92-1"><a></a><span class="fu">mkdir</span> recombined</span>
<span id="cb92-2"><a></a><span class="fu">mv</span> proteins.dat recombined/</span>
<span id="cb92-3"><a></a><span class="fu">cp</span> recombined/proteins.dat ../proteins-saved.dat</span>
<span id="cb92-4"><a></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><code>proteins-saved.dat recombined</code></li>
<li><code>recombined</code></li>
<li><code>proteins.dat recombined</code></li>
<li><code>proteins-saved.dat</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-16" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>We start in the <code>/Users/jamie/data</code> directory, and create a new folder called <code>recombined</code>. The second line moves (<code>mv</code>) the file <code>proteins.dat</code> to the new folder (<code>recombined</code>). The third line makes a copy of the file we just moved. The tricky part here is where the file was copied to. Recall that <code>..</code> means ‚Äògo up a level‚Äô, so the copied file is now in <code>/Users/jamie</code>. Notice that <code>..</code> is interpreted with respect to the current working directory, <strong>not</strong> with respect to the location of the file being copied. So, the only thing that will show using ls (in <code>/Users/jamie/data</code>) is the recombined folder.</p>
<ol type="1">
<li>No, see explanation above. <code>proteins-saved.dat</code> is located at <code>/Users/jamie</code></li>
<li>Yes</li>
<li>No, see explanation above. <code>proteins.dat</code> is located at <code>/Users/jamie/data/recombined</code></li>
<li>No, see explanation above. <code>proteins-saved.dat</code> is located at <code>/Users/jamie</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="removing-files-and-directories" class="slide level2">
<h2>Removing Files and Directories</h2>
<p>Return to the <code>writing</code> directory and remove <code>quotes.txt</code>:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb93-1"><a></a><span class="fu">rm</span> quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Confirm it‚Äôs gone:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb94-1"><a></a><span class="fu">ls</span> quotes.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb95"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb95-1"><a></a>ls: cannot access 'quotes.txt': No such file or directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="deleting-is-forever" class="slide level2">
<h2>Deleting Is Forever</h2>
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Caution</strong></p>
</div>
<div class="callout-content">
<p><strong>The Unix shell doesn‚Äôt have a trash bin!</strong></p>
<p>When we delete files, they are unlinked from the file system so their storage space can be recycled.</p>
<p>Tools for finding and recovering deleted files exist, but there‚Äôs no guarantee they‚Äôll work - the computer may recycle the file‚Äôs disk space right away.</p>
</div>
</div>
</div>
</section>
<section id="challenge-9" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Using <code>rm</code> Safely</strong></p>
</div>
<div class="callout-content">
<p>What happens when we execute <code>rm -i thesis_backup/quotations.txt</code>? Why would we want this protection when using <code>rm</code>?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-18" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb96"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb96-1"><a></a>rm: remove regular file 'thesis_backup/quotations.txt'? y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>-i</code> option will prompt before (every) removal (use <kbd>Y</kbd> to confirm deletion or <kbd>N</kbd> to keep the file). The Unix shell doesn‚Äôt have a trash bin, so all the files removed will disappear forever. By using the <code>-i</code> option, we have the chance to check that we are deleting only the files that we want to remove.</p>
</div>
</div>
</div>
</div>
</section>
<section id="removing-directories" class="slide level2">
<h2>Removing Directories</h2>
<p>If we try to remove a directory with just <code>rm</code>:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb97-1"><a></a><span class="fu">rm</span> thesis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb98"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb98-1"><a></a>rm: cannot remove 'thesis': Is a directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>rm</code> by default only works on files, not directories.</p>
</section>
<section id="removing-directories-with--r" class="slide level2">
<h2>Removing Directories with <code>-r</code></h2>
<p>Use <code>-r</code> (recursive) to remove a directory and all contents:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb99-1"><a></a><span class="fu">rm</span> <span class="at">-r</span> thesis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>‚ö†Ô∏è Warning:</strong> This works without confirmation prompts!</p>
<p>Given that files can‚Äôt be retrieved, use <code>rm -r</code> with <strong>great caution</strong>.</p>
<p>Consider using <code>rm -r -i</code> for interactive confirmation.</p>
</section>
<section id="operations-with-multiple-files" class="slide level2 nonincremental">
<h2>Operations with Multiple Files</h2>
<p>Oftentimes we need to copy or move several files at once.</p>
<p>This can be done by:</p>
<div>
<ul>
<li>Providing a list of individual filenames</li>
<li>Specifying a naming pattern using <strong>wildcards</strong></li>
</ul>
</div>
<p><strong>Wildcards</strong> are special characters that represent unknown characters or sets of characters.</p>
</section>
<section id="challenge-10" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Copy with Multiple Filenames</strong></p>
</div>
<div class="callout-content">
<p>For this exercise, you can test the commands in the <code>shell-lesson-data/exercise-data</code> directory.</p>
<p>We have seen how <code>cp</code> behaves when given two arguments, but <code>cp</code> behaves differently when given three or more arguments. Let‚Äôs try giving <code>cp</code> three arguments. In the example below, what does <code>cp</code> do when given several filenames and a directory name?</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb100-1"><a></a><span class="fu">mkdir</span> backup</span>
<span id="cb100-2"><a></a><span class="fu">cp</span> creatures/minotaur.dat creatures/unicorn.dat backup/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the example below, what does <code>cp</code> do when given three or more file names?</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb101-1"><a></a><span class="bu">cd</span> creatures</span>
<span id="cb101-2"><a></a><span class="fu">ls</span> <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb102"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb102-1"><a></a>basilisk.dat  minotaur.dat  unicorn.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb103-1"><a></a><span class="fu">cp</span> minotaur.dat unicorn.dat basilisk.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-20" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>When <code>cp</code> is given two arguments and the second is a destination directory, <code>cp</code> copies the files to the destination directory.</p>
<p>If given three or more arguments, <code>cp</code> throws an error such as the one below, because it is expecting a destination directory name as the last argument.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb104-1"><a></a>cp: target 'basilisk.dat' is not a directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="using-wildcards" class="slide level2">
<h2>Using Wildcards</h2>
<div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p><strong><code>*</code> is a wildcard</strong> - represents zero or more characters.</p>
<p>In <code>shell-lesson-data/exercise-data/alkanes</code>:</p>
<ul>
<li><code>*.pdb</code> matches <code>ethane.pdb</code>, <code>propane.pdb</code>, and all files ending in <code>.pdb</code></li>
<li><code>p*.pdb</code> only matches <code>pentane.pdb</code> and <code>propane.pdb</code></li>
</ul>
<p><strong><code>?</code> is also a wildcard</strong></p>
<ul>
<li>represents exactly one character.</li>
<li><code>?ethane.pdb</code> matches <code>methane.pdb</code></li>
<li><code>*ethane.pdb</code> matches <code>ethane.pdb</code> and <code>methane.pdb</code></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="wildcards-in-combination" class="slide level2 nonincremental">
<h2>Wildcards in Combination</h2>
<p>Wildcards can be used together:</p>
<div>
<ul>
<li><code>???ane.pdb</code> = three characters followed by <code>ane.pdb</code>
<ul>
<li>Matches: <code>cubane.pdb</code>, <code>ethane.pdb</code>, <code>octane.pdb</code></li>
</ul></li>
</ul>
</div>
<p><strong>How wildcards work:</strong></p>
<p>The shell expands wildcards to create a list of matching filenames <strong>before</strong> running the command.</p>
<p>Exception: If no files match, Bash passes the expression as-is to the command.</p>
</section>
<section id="challenge-11" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>List filenames matching a pattern</strong></p>
</div>
<div class="callout-content">
<p>When run in the <code>alkanes</code> directory, which <code>ls</code> command(s) will produce this output?</p>
<p><code>ethane.pdb   methane.pdb</code></p>
<ol type="1">
<li><code>ls *t*ane.pdb</code></li>
<li><code>ls *t?ne.*</code></li>
<li><code>ls *t??ne.pdb</code></li>
<li><code>ls ethane.*</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-22" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The solution is <code>3.</code></p>
<p><code>1.</code> shows all files whose names contain zero or more characters (<code>*</code>) followed by the letter <code>t</code>, then zero or more characters (<code>*</code>) followed by <code>ane.pdb</code>. This gives <code>ethane.pdb  methane.pdb  octane.pdb  pentane.pdb</code>.</p>
<p><code>2.</code> shows all files whose names start with zero or more characters (<code>*</code>) followed by the letter <code>t</code>, then a single character (<code>?</code>), then <code>ne.</code> followed by zero or more characters (<code>*</code>). This will give us <code>octane.pdb</code> and <code>pentane.pdb</code> but doesn‚Äôt match anything which ends in <code>thane.pdb</code>.</p>
<p><code>3.</code> fixes the problems of option 2 by matching two characters (<code>??</code>) between <code>t</code> and <code>ne</code>. This is the solution.</p>
<p><code>4.</code> only shows files starting with <code>ethane.</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-12" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>More on Wildcards</strong></p>
</div>
<div class="callout-content">
<p>Sam has a directory containing calibration data, datasets, and descriptions of the datasets:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb105-1"><a></a><span class="bu">.</span></span>
<span id="cb105-2"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-calibration.txt</span>
<span id="cb105-3"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-dataset1.txt</span>
<span id="cb105-4"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-dataset2.txt</span>
<span id="cb105-5"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb105-6"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-calibration.txt</span>
<span id="cb105-7"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-dataset1.txt</span>
<span id="cb105-8"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-dataset2.txt</span>
<span id="cb105-9"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb105-10"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-calibration.txt</span>
<span id="cb105-11"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset1.txt</span>
<span id="cb105-12"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset2.txt</span>
<span id="cb105-13"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb105-14"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> backup</span>
<span id="cb105-15"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ calibration</span>
<span id="cb105-16"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îî‚îÄ‚îÄ datasets</span>
<span id="cb105-17"><a></a><span class="ex">‚îî‚îÄ‚îÄ</span> send_to_bob</span>
<span id="cb105-18"><a></a>    <span class="ex">‚îú‚îÄ‚îÄ</span> all_datasets_created_on_a_23rd</span>
<span id="cb105-19"><a></a>    <span class="ex">‚îî‚îÄ‚îÄ</span> all_november_files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Before heading off to another field trip, she wants to back up her data and send some datasets to her colleague Bob. Sam uses the following commands to get the job done:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb106-1"><a></a><span class="fu">cp</span> <span class="pp">*</span>dataset<span class="pp">*</span> backup/datasets</span>
<span id="cb106-2"><a></a><span class="fu">cp</span> ____calibration____ backup/calibration</span>
<span id="cb106-3"><a></a><span class="fu">cp</span> 2015-____-____ send_to_bob/all_november_files/</span>
<span id="cb106-4"><a></a><span class="fu">cp</span> ____ send_to_bob/all_datasets_created_on_a_23rd/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-13" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>More on Wildcards</strong></p>
</div>
<div class="callout-content">
<p>Help Sam by filling in the blanks.</p>
<p>The resulting directory structure should look like this</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb107-1"><a></a><span class="bu">.</span></span>
<span id="cb107-2"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-calibration.txt</span>
<span id="cb107-3"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-dataset1.txt</span>
<span id="cb107-4"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-dataset2.txt</span>
<span id="cb107-5"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb107-6"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-calibration.txt</span>
<span id="cb107-7"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-dataset1.txt</span>
<span id="cb107-8"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-dataset2.txt</span>
<span id="cb107-9"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb107-10"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-calibration.txt</span>
<span id="cb107-11"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset1.txt</span>
<span id="cb107-12"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset2.txt</span>
<span id="cb107-13"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb107-14"><a></a><span class="ex">‚îú‚îÄ‚îÄ</span> backup</span>
<span id="cb107-15"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ calibration</span>
<span id="cb107-16"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ 2015-10-23-calibration.txt</span>
<span id="cb107-17"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ 2015-10-26-calibration.txt</span>
<span id="cb107-18"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ 2015-11-23-calibration.txt</span>
<span id="cb107-19"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îî‚îÄ‚îÄ datasets</span>
<span id="cb107-20"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-10-23-dataset1.txt</span>
<span id="cb107-21"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-10-23-dataset2.txt</span>
<span id="cb107-22"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-10-23-dataset_overview.txt</span>
<span id="cb107-23"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-10-26-dataset1.txt</span>
<span id="cb107-24"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-10-26-dataset2.txt</span>
<span id="cb107-25"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-10-26-dataset_overview.txt</span>
<span id="cb107-26"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-11-23-dataset1.txt</span>
<span id="cb107-27"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îú‚îÄ‚îÄ 2015-11-23-dataset2.txt</span>
<span id="cb107-28"><a></a><span class="ex">‚îÇ&nbsp;&nbsp;</span>     ‚îî‚îÄ‚îÄ 2015-11-23-dataset_overview.txt</span>
<span id="cb107-29"><a></a><span class="ex">‚îî‚îÄ‚îÄ</span> send_to_bob</span>
<span id="cb107-30"><a></a>    <span class="ex">‚îú‚îÄ‚îÄ</span> all_datasets_created_on_a_23rd</span>
<span id="cb107-31"><a></a>    <span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ 2015-10-23-dataset1.txt</span>
<span id="cb107-32"><a></a>    <span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ 2015-10-23-dataset2.txt</span>
<span id="cb107-33"><a></a>    <span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ 2015-10-23-dataset_overview.txt</span>
<span id="cb107-34"><a></a>    <span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ 2015-11-23-dataset1.txt</span>
<span id="cb107-35"><a></a>    <span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îú‚îÄ‚îÄ 2015-11-23-dataset2.txt</span>
<span id="cb107-36"><a></a>    <span class="ex">‚îÇ&nbsp;&nbsp;</span> ‚îî‚îÄ‚îÄ 2015-11-23-dataset_overview.txt</span>
<span id="cb107-37"><a></a>    <span class="ex">‚îî‚îÄ‚îÄ</span> all_november_files</span>
<span id="cb107-38"><a></a>        <span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-calibration.txt</span>
<span id="cb107-39"><a></a>        <span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset1.txt</span>
<span id="cb107-40"><a></a>        <span class="ex">‚îú‚îÄ‚îÄ</span> 2015-11-23-dataset2.txt</span>
<span id="cb107-41"><a></a>        <span class="ex">‚îî‚îÄ‚îÄ</span> 2015-11-23-dataset_overview.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-24" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb108"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb108-1"><a></a><span class="fu">cp</span> <span class="pp">*</span>calibration.txt backup/calibration</span>
<span id="cb108-2"><a></a><span class="fu">cp</span> 2015-11-<span class="pp">*</span> send_to_bob/all_november_files/</span>
<span id="cb108-3"><a></a><span class="fu">cp</span> <span class="pp">*</span>-23-dataset<span class="pp">*</span> send_to_bob/all_datasets_created_on_a_23rd/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-14" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Organizing Directories and Files</strong></p>
</div>
<div class="callout-content">
<p>Jamie is working on a project, and she sees that her files aren‚Äôt very well organized:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb109-1"><a></a><span class="fu">ls</span> <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb110-1"><a></a>analyzed/  fructose.dat    raw/   sucrose.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>fructose.dat</code> and <code>sucrose.dat</code> files contain output from her data analysis. What command(s) covered in this lesson does she need to run so that the commands below will produce the output shown?</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb111-1"><a></a><span class="fu">ls</span> <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb112"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb112-1"><a></a>analyzed/   raw/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb113"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb113-1"><a></a><span class="fu">ls</span> analyzed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb114"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb114-1"><a></a>fructose.dat    sucrose.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-26" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb115"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb115-1"><a></a><span class="fu">mv</span> <span class="pp">*</span>.dat analyzed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Jamie needs to move her files <code>fructose.dat</code> and <code>sucrose.dat</code> to the <code>analyzed</code> directory. The shell will expand *.dat to match all .dat files in the current directory. The <code>mv</code> command then moves the list of .dat files to the ‚Äòanalyzed‚Äô directory.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-15" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Reproduce a folder structure</strong></p>
</div>
<div class="callout-content">
<p>You‚Äôre starting a new experiment and would like to duplicate the directory structure from your previous experiment so you can add new data.</p>
<p>Assume that the previous experiment is in a folder called <code>2016-05-18</code>, which contains a <code>data</code> folder that in turn contains folders named <code>raw</code> and <code>processed</code> that contain data files. The goal is to copy the folder structure of the <code>2016-05-18</code> folder into a folder called <code>2016-05-20</code> so that your final directory structure looks like this:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb116-1"><a></a>2016-05-20/</span>
<span id="cb116-2"><a></a>‚îî‚îÄ‚îÄ data</span>
<span id="cb116-3"><a></a>   ‚îú‚îÄ‚îÄ processed</span>
<span id="cb116-4"><a></a>   ‚îî‚îÄ‚îÄ raw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-16" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Reproduce a folder structure</strong></p>
</div>
<div class="callout-content">
<p>Which of the following set of commands would achieve this objective? What would the other commands do?</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb117-1"><a></a><span class="fu">mkdir</span> 2016-05-20</span>
<span id="cb117-2"><a></a><span class="fu">mkdir</span> 2016-05-20/data</span>
<span id="cb117-3"><a></a><span class="fu">mkdir</span> 2016-05-20/data/processed</span>
<span id="cb117-4"><a></a><span class="fu">mkdir</span> 2016-05-20/data/raw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb118"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb118-1"><a></a><span class="fu">mkdir</span> 2016-05-20</span>
<span id="cb118-2"><a></a><span class="bu">cd</span> 2016-05-20</span>
<span id="cb118-3"><a></a><span class="fu">mkdir</span> data</span>
<span id="cb118-4"><a></a><span class="bu">cd</span> data</span>
<span id="cb118-5"><a></a><span class="fu">mkdir</span> raw processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb119"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb119-1"><a></a><span class="fu">mkdir</span> 2016-05-20/data/raw</span>
<span id="cb119-2"><a></a><span class="fu">mkdir</span> 2016-05-20/data/processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb120"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb120-1"><a></a><span class="fu">mkdir</span> <span class="at">-p</span> 2016-05-20/data/raw</span>
<span id="cb120-2"><a></a><span class="fu">mkdir</span> <span class="at">-p</span> 2016-05-20/data/processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb121"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb121-1"><a></a><span class="fu">mkdir</span> 2016-05-20</span>
<span id="cb121-2"><a></a><span class="bu">cd</span> 2016-05-20</span>
<span id="cb121-3"><a></a><span class="fu">mkdir</span> data</span>
<span id="cb121-4"><a></a><span class="fu">mkdir</span> raw processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-28" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The first two sets of commands achieve this objective. The first set uses relative paths to create the top-level directory before the subdirectories.</p>
<p>The third set of commands will give an error because the default behavior of <code>mkdir</code> won‚Äôt create a subdirectory of a non-existent directory: the intermediate level folders must be created first.</p>
<p>The fourth set of commands achieve this objective. Remember, the <code>-p</code> option, followed by a path of one or more directories, will cause <code>mkdir</code> to create any intermediate subdirectories as required.</p>
<p>The final set of commands generates the ‚Äòraw‚Äô and ‚Äòprocessed‚Äô directories at the same level as the ‚Äòdata‚Äô directory.</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="episode-4-file-permissions" class="title-slide slide level1 center">
<h1>Episode 4: File Permissions</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How does Linux know who can access files?</li>
<li>How can I see what permissions a file has?</li>
<li>How can I set or change the permissions on a file?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>View file permissions</li>
<li>Understand the structure of the permissions string</li>
<li>Change owners and permissions of files</li>
<li>Use binary references to change permissions of files</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="file-permissions" class="slide level2 nonincremental">
<h2>File Permissions</h2>
<p>Every file/folder has permissions defining who can access them</p>
<p>Three permission categories:</p>
<ul>
<li><strong>owner</strong> - applies only to file owner</li>
<li><strong>group</strong> - applies only to assigned group</li>
<li><strong>all users</strong> - applies to all other users (watch this closely!)</li>
</ul>
</section>
<section id="permission-example" class="slide level2">
<h2>Permission Example</h2>
<p>For example, if a file had the following set of permissions:</p>
<table class="table table-striped">
<tbody><tr>
<td>
</td>
<th>
user
</th>
<th>
group
</th>
<th>
all
</th>
</tr>
<tr>
<th>
read
</th>
<td>
yes
</td>
<td>
yes
</td>
<td>
no
</td>
</tr>
<tr>
<th>
write
</th>
<td>
yes
</td>
<td>
no
</td>
<td>
no
</td>
</tr>
<tr>
<th>
execute
</th>
<td>
no
</td>
<td>
no
</td>
<td>
no
</td>
</tr>
</tbody></table>
</section>
<section id="viewing-permissions" class="slide level2">
<h2>Viewing Permissions</h2>
<p>View file permissions with <code>ls -l</code>:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb122-1"><a></a><span class="bu">cd</span> alkanes</span>
<span id="cb122-2"><a></a><span class="fu">ls</span> <span class="at">-l</span> methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb123"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb123-1"><a></a>-rw-r--r--  1 nelle  bio   422B  8 Aug  2019 methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="understanding-ls--l-output" class="slide level2 nonincremental">
<h2>Understanding <code>ls -l</code> Output</h2>
<div class="sourceCode" id="cb124"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb124-1"><a></a>-rw-r--r--  1 nelle  bio   422B  8 Aug  2019 methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>A set of ten permission flags</li>
<li>Link count (which is irrelevant to this course)</li>
<li>The owner of the file</li>
<li>The associated group</li>
<li>The size of the file in bytes</li>
<li>The date that the file was last modified</li>
<li>The name of the file</li>
</ol>
</section>
<section id="permission-flags" class="slide level2">
<h2>Permission Flags</h2>
<p>Three basic permission types:</p>
<ul>
<li><strong>Read (r)</strong> - capability to read file contents</li>
<li><strong>Write (w)</strong> - capability to write/modify files or directories</li>
<li><strong>Execute (x)</strong> - capability to execute files or view directory contents</li>
</ul>
</section>
<section id="permission-string-structure" class="slide level2">
<h2>Permission String Structure</h2>
<p><code>_rwxrwxrwx</code> breakdown:</p>
<ul>
<li><strong>First character</strong> - special permission flag (e.g., <code>d</code> = directory)</li>
<li><strong>First <code>rwx</code></strong> - owner permissions</li>
<li><strong>Second <code>rwx</code></strong> - group permissions</li>
<li><strong>Third <code>rwx</code></strong> - all users permissions</li>
</ul>
</section>
<section id="users-and-groups" class="slide level2">
<h2>Users and Groups</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>On users and groups</strong></p>
</div>
<div class="callout-content">
<p>When listing the contents of a directory you may come across files that have the same text for both the user and group. An example of this is in the output:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb125-1"><a></a><span class="ex">-rw-r--r--</span>  1 nelle  nelle   422B  1 Sep  2019 test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In Linux, users will usually have a group associated with them that shares the same name that the user does. While this can seem strange, make sure that you understand the difference in the output so you know who has access to your files.</p>
</div>
</div>
</div>
</section>
<section id="challenge-17" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Can you spot the difference here? What does it mean?</strong></p>
</div>
<div class="callout-content">
<p>Let‚Äôs take a look at some files in a different folder.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb126-1"><a></a><span class="bu">cd</span> Desktop/data-shell/north-pacific-gyre/2012-07-03</span>
<span id="cb126-2"><a></a><span class="fu">ls</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb127"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb127-1"><a></a>-rw-r--r-- 1 nelle  bio  4406  8 Aug  2019 NENE01729A.txt</span>
<span id="cb127-2"><a></a>-rw-r--r-- 1 nelle  bio  4400  8 Aug  2019 NENE01729B.txt</span>
<span id="cb127-3"><a></a>-rw-r--r-- 1 nelle  bio  4371  8 Aug  2019 NENE01736A.txt</span>
<span id="cb127-4"><a></a>-rw-r--r-- 1 nelle  bio  4411  8 Aug  2019 NENE01751A.txt</span>
<span id="cb127-5"><a></a>-rw-r--r-- 1 nelle  bio  4409  8 Aug  2019 NENE01751B.txt</span>
<span id="cb127-6"><a></a>-rw-r--r-- 1 nelle  bio  4401  8 Aug  2019 NENE01812A.txt</span>
<span id="cb127-7"><a></a>-rw-r--r-- 1 nelle  bio  4395  8 Aug  2019 NENE01843A.txt</span>
<span id="cb127-8"><a></a>-rw-r--r-- 1 nelle  bio  4375  8 Aug  2019 NENE01843B.txt</span>
<span id="cb127-9"><a></a>-rw-r--r-- 1 nelle  bio  4372  8 Aug  2019 NENE01971Z.txt</span>
<span id="cb127-10"><a></a>-rw-r--r-- 1 nelle  bio  4381  8 Aug  2019 NENE01978A.txt</span>
<span id="cb127-11"><a></a>-rw-r--r-- 1 nelle  bio  4389  8 Aug  2019 NENE01978B.txt</span>
<span id="cb127-12"><a></a>-rw-r--r-- 1 nelle  bio  3517  8 Aug  2019 NENE02018B.txt</span>
<span id="cb127-13"><a></a>-rw-r--r-- 1 nelle  bio  4391  8 Aug  2019 NENE02040A.txt</span>
<span id="cb127-14"><a></a>-rw-r--r-- 1 nelle  bio  4367  8 Aug  2019 NENE02040B.txt</span>
<span id="cb127-15"><a></a>-rw-r--r-- 1 nelle  bio  4381  8 Aug  2019 NENE02040Z.txt</span>
<span id="cb127-16"><a></a>-rw-r--r-- 1 nelle  bio  4386  8 Aug  2019 NENE02043A.txt</span>
<span id="cb127-17"><a></a>-rw-r--r-- 1 nelle  bio  4393  8 Aug  2019 NENE02043B.txt</span>
<span id="cb127-18"><a></a>-rwxr-xr-x 1 nelle  bio   345  8 Aug  2019 goodiff</span>
<span id="cb127-19"><a></a>-rwxr-xr-x 1 nelle  bio   218  8 Aug  2019 goostats</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The data files in this folder, e.g <code>NENE01978A.txt</code> have a different permission set to <code>goodiff</code>. Can you tell why this is and explain what this might mean for the <code>goodiff</code> file?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-30" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The <code>goodiff</code> file has the execution flags set for user, group and all. Which will allow anyone to execute the file. It‚Äôs therefore likely that <code>goodiff</code> is a script that performs some actions. In theory you could run this script using <code>./goodiff</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-18" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Lets take a further look at things by looking at in the folder above this.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb128-1"><a></a><span class="bu">cd</span> ..</span>
<span id="cb128-2"><a></a><span class="fu">ls</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb129"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb129-1"><a></a>drwxr-xr-x 21 nelle  bio  672  8 Aug  2019 2012-07-03</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Can you guess what the <code>d</code> at the beginning of the output line means?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-32" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The <code>d</code> indicates whether the file has any special type associated with it. In this case it‚Äôs indicating that this is a directory.</p>
</div>
</div>
</div>
</div>
</section>
<section id="modifying-permissions" class="slide level2">
<h2>Modifying Permissions</h2>
<p>Let‚Äôs say we want to modify who can access some of the files in the <code>alkanes/</code> directory.</p>
<p>We‚Äôll assume here that we‚Äôre members of the <code>bio</code> group on our system.</p>
<p>On the cluster, all users must be members of cluster group to run jobs on the system. Each lab has a group associated with it, so we can use this method to share files with other members of the same lab.</p>
</section>
<section id="groups-note" class="slide level2">
<h2>Groups Note</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Groups</strong></p>
</div>
<div class="callout-content">
<p>You‚Äôll find that if you try to assign a group to a file and the group does not exist you‚Äôll get something similar to the following output.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb130-1"><a></a>chown: bio: illegal group name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you‚Äôre trying to do this locally, you can list the groups you‚Äôre currently a member of using the <code>groups</code> command like so:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb131-1"><a></a><span class="fu">groups</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Just pick one of these groups to demonstrate the method shown below.</p>
</div>
</div>
</div>
</section>
<section id="using-chown" class="slide level2">
<h2>Using <code>chown</code></h2>
<p>Change ownership to allow <code>compbio</code> group to read file:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb132-1"><a></a><span class="bu">cd</span> Desktop/shell-lesson-data/exercise-data/alkanes</span>
<span id="cb132-2"><a></a><span class="fu">chown</span> nelle:compbio methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>chown</code> breakdown:</p>
<ul>
<li><strong>chown</strong> - command</li>
<li><strong>nelle</strong> - user</li>
<li><strong>compbio</strong> - group</li>
<li><strong>methane.pdb</strong> - filename</li>
</ul>
</section>
<section id="after-chown" class="slide level2">
<h2>After <code>chown</code></h2>
<p>When we list the contents of the directory again, we would see the change reflected like so:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb133-1"><a></a>total 48</span>
<span id="cb133-2"><a></a>-rw-r--r-- 1 nelle  bio    1158  8 Aug  2019 cubane.pdb</span>
<span id="cb133-3"><a></a>-rw-r--r-- 1 nelle  bio     622  8 Aug  2019 ethane.pdb</span>
<span id="cb133-4"><a></a>-rw-r--r-- 1 nelle  compbio 422  8 Aug  2019 methane.pdb</span>
<span id="cb133-5"><a></a>-rw-r--r-- 1 nelle  bio    1828  8 Aug  2019 octane.pdb</span>
<span id="cb133-6"><a></a>-rw-r--r-- 1 nelle  bio    1226  8 Aug  2019 pentane.pdb</span>
<span id="cb133-7"><a></a>-rw-r--r-- 1 nelle  bio     825  8 Aug  2019 propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="changing-permissions-with-chmod" class="slide level2">
<h2>Changing Permissions with <code>chmod</code></h2>
<ul>
<li><code>chmod</code> = change mode = change permissions</li>
<li>Allow members of the group to make changes to <code>methane.pdb</code>, but not others.</li>
<li>To explicitly define permissions, reference the <strong>Permission Group</strong> and <strong>Permission Types</strong>.</li>
</ul>
</section>
<section id="permission-groups" class="slide level2">
<h2>Permission Groups</h2>
<p>The Permission Groups used are:</p>
<ul>
<li><strong>u</strong> - Owner</li>
<li><strong>g</strong> - Group</li>
<li><strong>o</strong> - Other / All Users</li>
<li><strong>a</strong> - All (Owner, Group and All Users)</li>
</ul>
</section>
<section id="permission-types" class="slide level2">
<h2>Permission Types</h2>
<p>The Permission Types that are used are:</p>
<ul>
<li><strong>r</strong> - Read</li>
<li><strong>w</strong> - Write</li>
<li><strong>x</strong> - Execute</li>
</ul>
<p>The potential Assignment Operators are <strong>+</strong> (plus) and <strong>-</strong> (minus); these are used to tell the system whether to add or remove the specific permissions.</p>
</section>
<section id="chmod---remove---other-read" class="slide level2 nonincremental">
<h2><code>chmod</code> - Remove - Other Read</h2>
<p>To remove the ability for other users to read the <code>methane.pdb</code> file,</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb134-1"><a></a><span class="fu">chmod</span> o-r methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb135"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb135-1"><a></a><span class="ex">-rw-r--r--</span> 1 nelle  bio    1158  8 Aug  2019 cubane.pdb</span>
<span id="cb135-2"><a></a><span class="ex">-rw-r--r--</span> 1 nelle  bio     622  8 Aug  2019 ethane.pdb</span>
<span id="cb135-3"><a></a><span class="ex">-rw-r-----</span> 1 nelle  compbio 422  8 Aug  2019 methane.pdb</span>
<span id="cb135-4"><a></a><span class="ex">-rw-r--r--</span> 1 nelle  bio    1828  8 Aug  2019 octane.pdb</span>
<span id="cb135-5"><a></a><span class="ex">-rw-r--r--</span> 1 nelle  bio    1226  8 Aug  2019 pentane.pdb</span>
<span id="cb135-6"><a></a><span class="ex">-rw-r--r--</span> 1 nelle  bio     825  8 Aug  2019 propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <strong>r</strong> flag removed from other users section.</p>
</section>
<section id="chmod---add-group-write" class="slide level2">
<h2><code>chmod</code> - Add Group Write</h2>
<p>Allow group members to write/edit:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb136-1"><a></a><span class="fu">chmod</span> g+w methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Checking this has gone through using <code>ls -l</code>:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb137-1"><a></a>total 48</span>
<span id="cb137-2"><a></a>-rw-r--r-- 1 nelle  bio    1158  8 Aug  2019 cubane.pdb</span>
<span id="cb137-3"><a></a>-rw-r--r-- 1 nelle  bio     622  8 Aug  2019 ethane.pdb</span>
<span id="cb137-4"><a></a>-rw-rw---- 1 nelle  compbio 422  8 Aug  2019 methane.pdb</span>
<span id="cb137-5"><a></a>-rw-r--r-- 1 nelle  bio    1828  8 Aug  2019 octane.pdb</span>
<span id="cb137-6"><a></a>-rw-r--r-- 1 nelle  bio    1226  8 Aug  2019 pentane.pdb</span>
<span id="cb137-7"><a></a>-rw-r--r-- 1 nelle  bio     825  8 Aug  2019 propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="challenge-20" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Changing permissions for all files in a directory?</strong></p>
</div>
<div class="callout-content">
<p>Say we want to change the permissions for all the files in the <code>alkanes/</code> directory, how we would do this? Let‚Äôs try and give apply what we‚Äôve just learnt to give all other users write permissions over the files.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-34" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>There‚Äôs actually a few ways we can go about this and it really depends on how we target the files to change. First, we could use the wildcards we learnt about previously to target files based on a specific pattern. In this case a simple <code>*</code> would suffice to pick out every file in the current folder, e.g:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb138-1"><a></a><span class="fu">chmod</span> o+w <span class="pp">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We could also use the recursive flag available to the <code>chmod</code> command to run through every file in a directory <strong>(including sub-directories)</strong> and apply a set of permissions to every file. E.g:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb139-1"><a></a><span class="bu">cd</span> ..</span>
<span id="cb139-2"><a></a><span class="fu">chmod</span> <span class="at">-R</span> o+w alkanes/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Either method works in this case, however be wary that as the <code>-R</code> flag works through the folder and all sub-folders, you may end up changing the permission on something you didn‚Äôt intend.</p>
</div>
</div>
</div>
</div>
</section>
<section id="using-binary-references-to-set-permissions" class="slide level2 nonincremental">
<h2>Using Binary References to Set Permissions</h2>
<ul>
<li>Another way to set the permission using <strong>binary references</strong>.</li>
<li>This replaces the explicitly defined permissions with binary references to these.</li>
<li>While more complex than the previous method, we can use this to define multiple different permissions to all three permissions groups with a single command.</li>
</ul>
</section>
<section id="binary-references-example" class="slide level2">
<h2>Binary References Example</h2>
<p>An example permission string would be <code>chmod 764 methane.pdb</code>, which means:</p>

<img data-src="../episodes/fig/binary-perm.png" class="quarto-figure quarto-figure-center r-stretch"><ul>
<li>the owner has read, write and execute permissions</li>
<li>the group has read and write permissions</li>
<li>all other users have read permissions to the file</li>
</ul>
</section>
<section id="challenge-21" class="slide level2">
<h2>Challenge</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Using binary references, how can you make a file executable?</strong></p>
</div>
<div class="callout-content">
<p>Now we‚Äôve seen how to use binary references to change permissions on a file. Can you change the <code>methane.pdb</code> file to make it executable? In this case, you can‚Äôt actually execute the file as it doesn‚Äôt contain the right data to do this, but it will teach you how to do this for other files in future, most notably scripts.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-36" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>To ensure that we don‚Äôt make unintended changes to the other permissions currently assigned to the file, we need to first check what permissions it currently has</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb140-1"><a></a><span class="fu">ls</span> <span class="at">-l</span> methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb141"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb141-1"><a></a>-rw-r--r--  1 nelle  compbio   422B  8 Aug  2019 methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can see that both the read permission flags are set for groups and others. This makes creating the binary reference here easy as we only need to take the integer 4 for both these flags.</p>
<p>Now we have the end of the binary reference, we need to add up the rest to give execute permissions to the file. As we already have read and write permissions as the owner of the file, we only need to add 1 to the binary reference to get 7. Therefore, the full binary reference we need to set is 744.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb142-1"><a></a><span class="bu">cd</span> ..</span>
<span id="cb142-2"><a></a><span class="fu">chmod</span> 744 methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb143"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb143-1"><a></a>-rwxr--r--  1 nelle  compbio   422B  8 Aug  2019 methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, the first 7 assigns <strong>read, write, execute</strong> to owner, the first 4 adds <strong>read</strong> to the group, and the last 4 adds <strong>read</strong> permissions to others.</p>
</div>
</div>
</div>
</div>
</section>
<section id="necessary-but-not-sufficient" class="slide level2">
<h2>Necessary But Not Sufficient</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>The fact that something is marked as executable doesn‚Äôt actually mean it contains a runnable program. Marking an HTML file executable won‚Äôt make it run as a program; the OS may instead open it in the associated application.</p>
</div>
</div>
</div>
</section>
<section id="directory-permissions" class="slide level2">
<h2>Directory Permissions</h2>
<p>Let‚Äôs run <code>ls -a -l</code> to get a long-form listing that includes directories that are hidden:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb144-1"><a></a><span class="fu">ls</span> <span class="at">-a</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb145"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb145-1"><a></a>total 48</span>
<span id="cb145-2"><a></a>drwxr-xr-x 1 nelle  bio        0  8 Aug  2019 .</span>
<span id="cb145-3"><a></a>drwxr-xr-x 1 nelle  bio     8192  8 Aug  2019 ..</span>
<span id="cb145-4"><a></a>-rw-r--rw- 1 nelle  bio     1158  8 Aug  2019 cubane.pdb</span>
<span id="cb145-5"><a></a>-rw-r--rw- 1 nelle  bio      622  8 Aug  2019 ethane.pdb</span>
<span id="cb145-6"><a></a>-rwxr--r-- 1 nelle  compbio  422  8 Aug  2019 methane.pdb</span>
<span id="cb145-7"><a></a>-rw-r--rw- 1 nelle  bio     1828  8 Aug  2019 octane.pdb</span>
<span id="cb145-8"><a></a>-rw-r--rw- 1 nelle  bio     1226  8 Aug  2019 pentane.pdb</span>
<span id="cb145-9"><a></a>-rw-r--rw- 1 nelle  bio      825  8 Aug  2019 propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The permissions for <code>.</code> and <code>..</code> (this directory and its parent) start with a <code>d</code>.</li>
<li><strong>‚Äòx‚Äô</strong> means that ‚Äúexecute‚Äù is turned on.</li>
<li>A directory isn‚Äôt a program‚Äîhow can we ‚Äúrun‚Äù it?</li>
<li>It gives someone the right to <strong>traverse</strong> the directory, but not to look at its contents.</li>
</ul>
</section>
<section id="nelles-directory-example" class="slide level2">
<h2>Nelle‚Äôs Directory Example</h2>
<p>Nelle‚Äôs home directory has three subdirectories called <code>venus</code>, <code>mars</code>, and <code>pluto</code>:</p>

<img data-src="../episodes/fig/x-for-directories.png" class="quarto-figure quarto-figure-center r-stretch" width="500"><p>Each of these has a subdirectory in turn called <code>notes</code>, and those sub-subdirectories contain various files.</p>
</section>
<section id="scenario-1-r-x-on-venus" class="slide level2">
<h2>Scenario 1: r-x on venus</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../episodes/fig/x-for-directories.png" class="quarto-figure quarto-figure-center" height="400"></p>
</figure>
</div>
<p>If a user‚Äôs permissions on <code>venus</code> are <strong>‚Äòr-x‚Äô</strong>, then if she tries to see the contents of <code>venus</code> and <code>venus/notes</code> using <code>ls</code>, the computer lets her see both.</p>
</section>
<section id="scenario-2-r-on-mars" class="slide level2">
<h2>Scenario 2: r‚Äì on mars</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../episodes/fig/x-for-directories.png" class="quarto-figure quarto-figure-center" height="400"></p>
</figure>
</div>
<p>If her permissions on <code>mars</code> are just <strong>‚Äòr‚Äì‚Äô</strong>, then she is allowed to read the contents of both <code>mars</code> and <code>mars/notes</code>.</p>
</section>
<section id="scenario-3-x-on-pluto" class="slide level2">
<h2>Scenario 3: ‚Äìx on pluto</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../episodes/fig/x-for-directories.png" class="quarto-figure quarto-figure-center" height="400"></p>
</figure>
</div>
<p>But if her permissions on <code>pluto</code> are only <strong>‚Äò‚Äìx‚Äô</strong>, she cannot see what‚Äôs in the <code>pluto</code> directory: <code>ls pluto</code> will tell her she doesn‚Äôt have permission to view its contents.</p>
<p>If she tries to look in <code>pluto/notes</code>, though, the computer will let her do that. She‚Äôs allowed to go <strong>through</strong> <code>pluto</code>, but not to look at what‚Äôs there.</p>
</section></section>
<section>
<section id="episode-5-pipes-and-filters" class="title-slide slide level1 center">
<h1>Episode 5: Pipes and Filters</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How can I combine existing commands to produce a desired output?</li>
<li>How can I show only part of the output?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Explain the advantage of linking commands with pipes and filters</li>
<li>Combine sequences of commands to get new output</li>
<li>Redirect a command‚Äôs output to a file</li>
<li>Explain what happens if a program or pipeline isn‚Äôt given input</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="starting-directory" class="slide level2">
<h2>Starting Directory</h2>
<p><strong>Shell‚Äôs most powerful feature: Combine existing programs in new ways</strong></p>
<p>We‚Äôll start with the directory: <code>shell-lesson-data/exercise-data/alkanes</code> with six molecule files:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb146-1"><a></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb147"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb147-1"><a></a>cubane.pdb    methane.pdb    pentane.pdb</span>
<span id="cb147-2"><a></a>ethane.pdb    octane.pdb     propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>.pdb</code> = Protein Data Bank format (simple text with atom positions)</p>
</section>
<section id="command-wc-word-count" class="slide level2">
<h2>Command: <code>wc</code> (word count)</h2>
<p><code>wc</code> counts: lines, words, characters (in that order)</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb148-1"><a></a><span class="fu">wc</span> cubane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb149"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb149-1"><a></a>20  156 1158 cubane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="wc-with-wildcards" class="slide level2">
<h2><code>wc</code> with Wildcards</h2>
<p><code>*</code> matches zero or more characters ‚Üí shell converts <code>*.pdb</code> to list of all <code>.pdb</code> files:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb150-1"><a></a><span class="fu">wc</span> <span class="pp">*</span>.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb151"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb151-1"><a></a>  20  156  1158  cubane.pdb</span>
<span id="cb151-2"><a></a>  12   84   622  ethane.pdb</span>
<span id="cb151-3"><a></a>   9   57   422  methane.pdb</span>
<span id="cb151-4"><a></a>  30  246  1828  octane.pdb</span>
<span id="cb151-5"><a></a>  21  165  1226  pentane.pdb</span>
<span id="cb151-6"><a></a>  15  111   825  propane.pdb</span>
<span id="cb151-7"><a></a> 107  819  6081  total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note: <code>wc *.pdb</code> also shows total lines in last line of output.</p>
</section>
<section id="wc-options" class="slide level2">
<h2><code>wc</code> Options</h2>
<ul>
<li><code>wc -l</code> ‚Üí lines only</li>
<li><code>wc -w</code> ‚Üí words only</li>
<li><code>wc -m</code> ‚Üí characters only</li>
</ul>
<div class="sourceCode" id="cb152"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb152-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb153"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb153-1"><a></a>  20  cubane.pdb</span>
<span id="cb153-2"><a></a>  12  ethane.pdb</span>
<span id="cb153-3"><a></a>  ...</span>
<span id="cb153-4"><a></a> 107  total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="what-if-no-input" class="slide level2">
<h2>What If No Input?</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Why Isn‚Äôt It Doing Anything?</strong></p>
</div>
<div class="callout-content">
<p>What happens if a command is supposed to process a file, but we don‚Äôt give it a filename? For example, what if we type:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb154-1"><a></a><span class="fu">wc</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>but don‚Äôt type <code>*.pdb</code> (or anything else) after the command? Since it doesn‚Äôt have any filenames, <code>wc</code> assumes it is supposed to process input given at the command prompt, so it just sits there and waits for us to give it some data interactively. From the outside, though, all we see is it sitting there, and the command doesn‚Äôt appear to do anything.</p>
<p>If you make this kind of mistake, you can escape out of this state by holding down the control key (<kbd>Ctrl</kbd>) and pressing the letter <kbd>C</kbd> once: <kbd>Ctrl</kbd>+<kbd>C</kbd>. Then release both keys.</p>
</div>
</div>
</div>
</section>
<section id="capturing-output-from-commands" class="slide level2">
<h2>Capturing Output from Commands</h2>
<ul>
<li><strong>Problem</strong> - Which of these files contains the fewest lines? It‚Äôs an easy question to answer when there are only six files, but what if there were 6000?</li>
</ul>
<div class="fragment">
<div class="sourceCode" id="cb155"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb155-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="op">&gt;</span> lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>&gt;</code> - tells the shell to <strong>redirect</strong> the command‚Äôs output to a file instead of printing it to the screen.</li>
<li>This command prints no screen output.</li>
<li>Everything that <code>wc</code> would have printed has gone into the file <code>lengths.txt</code> instead.</li>
<li>If the file doesn‚Äôt exist, the shell will create the file.</li>
<li>If the file exists already, it will be silently overwritten.</li>
</ul>
</div>
</section>
<section id="confirm-file-created" class="slide level2">
<h2>Confirm File Created</h2>
<p><code>ls lengths.txt</code> confirms that the file exists:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb156-1"><a></a><span class="fu">ls</span> lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb157"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb157-1"><a></a>lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can now send the content of <code>lengths.txt</code> to the screen using <code>cat lengths.txt</code>:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb158-1"><a></a><span class="fu">cat</span> lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb159"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb159-1"><a></a>  20  cubane.pdb</span>
<span id="cb159-2"><a></a>  12  ethane.pdb</span>
<span id="cb159-3"><a></a>   9  methane.pdb</span>
<span id="cb159-4"><a></a>  30  octane.pdb</span>
<span id="cb159-5"><a></a>  21  pentane.pdb</span>
<span id="cb159-6"><a></a>  15  propane.pdb</span>
<span id="cb159-7"><a></a> 107  total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>cat</code> command (concatenate) prints file contents. Name comes from joining files together.</p>
</section>
<section id="alternative-less" class="slide level2">
<h2>Alternative: less</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Output Page by Page</strong></p>
</div>
<div class="callout-content">
<p>We‚Äôll continue to use <code>cat</code> in this lesson, for convenience and consistency, but it has the disadvantage that it always dumps the whole file onto your screen. More useful in practice is the command <code>less</code> (e.g.&nbsp;<code>less lengths.txt</code>). This displays a screenful of the file, and then stops. You can go forward one screenful by pressing the spacebar, or back one by pressing <code>b</code>. Press <code>q</code> to quit.</p>
</div>
</div>
</div>
</section>
<section id="filtering-output" class="slide level2">
<h2>Filtering Output</h2>
<ul>
<li>Next we‚Äôll use the <code>sort</code> command to sort the contents of the <code>lengths.txt</code> file.</li>
<li>But first we‚Äôll do an exercise to learn a little about the <code>sort</code> command.</li>
</ul>
</section>
<section id="challenge-what-does-sort--n-do" class="slide level2">
<h2>Challenge: What Does <code>sort -n</code> Do?</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>The file <code>shell-lesson-data/exercise-data/numbers.txt</code> contains the following lines:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb160-1"><a></a>10</span>
<span id="cb160-2"><a></a>2</span>
<span id="cb160-3"><a></a>19</span>
<span id="cb160-4"><a></a>22</span>
<span id="cb160-5"><a></a>6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If we run <code>sort</code> on this file, the output is:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb161-1"><a></a>10</span>
<span id="cb161-2"><a></a>19</span>
<span id="cb161-3"><a></a>2</span>
<span id="cb161-4"><a></a>22</span>
<span id="cb161-5"><a></a>6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If we run <code>sort -n</code> on the same file, we get this instead:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb162-1"><a></a>2</span>
<span id="cb162-2"><a></a>6</span>
<span id="cb162-3"><a></a>10</span>
<span id="cb162-4"><a></a>19</span>
<span id="cb162-5"><a></a>22</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Explain why <code>-n</code> has this effect.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-38" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The <code>-n</code> option specifies <strong>numerical</strong> (not alphanumerical) sort.</p>
</div>
</div>
</div>
</div>
</section>
<section id="sort-numerically" class="slide level2">
<h2><code>sort</code> Numerically</h2>
<p><code>-n</code> option specifies numerical (not alphabetical) sort</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb163-1"><a></a><span class="fu">sort</span> <span class="at">-n</span> lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb164-1"><a></a>   9  methane.pdb</span>
<span id="cb164-2"><a></a>  12  ethane.pdb</span>
<span id="cb164-3"><a></a>  15  propane.pdb</span>
<span id="cb164-4"><a></a>  20  cubane.pdb</span>
<span id="cb164-5"><a></a>  21  pentane.pdb</span>
<span id="cb164-6"><a></a>  30  octane.pdb</span>
<span id="cb164-7"><a></a> 107  total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="save-sorted-output" class="slide level2">
<h2>Save Sorted Output</h2>
<p>Redirect sorted output to file, then view first line:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb165-1"><a></a><span class="fu">sort</span> <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> sorted-lengths.txt</span>
<span id="cb165-2"><a></a><span class="fu">head</span> <span class="at">-n</span> 1 sorted-lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb166"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb166-1"><a></a>   9  methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>-n 1</code> with <code>head</code> tells it that we only want the first line of the file.</li>
<li><code>-n 20</code> would get the first 20, and so on.</li>
<li>Since <code>sorted-lengths.txt</code> contains the lengths of our files ordered from least to greatest, the output of <code>head</code> must be the file with the fewest lines.</li>
</ul>
</section>
<section id="warning-redirecting-to-same-file" class="slide level2">
<h2>Warning: Redirecting to Same File</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Redirecting to the same file</strong></p>
</div>
<div class="callout-content">
<p>It‚Äôs a very bad idea to try redirecting the output of a command that operates on a file to the same file. For example:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb167-1"><a></a><span class="fu">sort</span> <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> lengths.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Doing something like this may give you incorrect results and/or delete the contents of <code>lengths.txt</code>.</p>
</div>
</div>
</div>
</section>
<section id="challenge-what-does-mean" class="slide level2">
<h2>Challenge: What Does &gt;&gt; Mean?</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>We have seen the use of <code>&gt;</code>, but there is a similar operator <code>&gt;&gt;</code> which works slightly differently. We‚Äôll learn about the differences between these two operators by printing some strings. We can use the <code>echo</code> command to print strings e.g.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb168-1"><a></a><span class="bu">echo</span> The echo command prints text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb169"><pre class="sourceCode numberSource plaintext number-lines code-with-copy"><code class="sourceCode"><span id="cb169-1"><a></a>The echo command prints text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now test the commands below to reveal the difference between the two operators:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb170-1"><a></a><span class="bu">echo</span> hello <span class="op">&gt;</span> testfile01.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb171-1"><a></a><span class="bu">echo</span> hello <span class="op">&gt;&gt;</span> testfile02.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hint: Try executing each command twice in a row and then examining the output files.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-40" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>In the first example with <code>&gt;</code>, the string ‚Äòhello‚Äô is written to <code>testfile01.txt</code>, but the file gets overwritten each time we run the command.</p>
<p>We see from the second example that the <code>&gt;&gt;</code> operator also writes ‚Äòhello‚Äô to a file (in this case <code>testfile02.txt</code>), but appends the string to the file if it already exists (i.e.&nbsp;when we run it for the second time).</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-appending-data" class="slide level2">
<h2>Challenge: Appending Data</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>We have already met the <code>head</code> command, which prints lines from the start of a file. <code>tail</code> is similar, but prints lines from the end of a file instead.</p>
<p>Consider the file <code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>. After these commands, select the answer that corresponds to the file <code>animals-subset.csv</code>:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb172-1"><a></a><span class="fu">head</span> <span class="at">-n</span> 3 animals.csv <span class="op">&gt;</span> animals-subset.csv</span>
<span id="cb172-2"><a></a><span class="fu">tail</span> <span class="at">-n</span> 2 animals.csv <span class="op">&gt;&gt;</span> animals-subset.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>First 3 lines of <code>animals.csv</code></li>
<li>Last 2 lines of <code>animals.csv</code></li>
<li>First 3 lines AND last 2 lines of <code>animals.csv</code></li>
<li>Second and third lines of <code>animals.csv</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-42" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>Option 3 is correct. For option 1 to be correct we would only run the <code>head</code> command. For option 2 to be correct we would only run the <code>tail</code> command. For option 4 to be correct we would have to pipe the output of <code>head</code> into <code>tail -n 2</code> by doing <code>head -n 3 animals.csv | tail -n 2 &gt; animals-subset.csv</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="passing-output-to-another-command" class="slide level2">
<h2>Passing Output to Another Command</h2>
<ul>
<li>In our example of finding the file with the fewest lines, we used two intermediate files <code>lengths.txt</code> and <code>sorted-lengths.txt</code> to store output.</li>
<li>Those intermediate files make it hard to follow what‚Äôs going on.</li>
</ul>
<p>We can make it easier to understand by running <code>sort</code> and <code>head</code> together:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb173-1"><a></a><span class="fu">sort</span> <span class="at">-n</span> lengths.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb174"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb174-1"><a></a>   9  methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The vertical bar, <code>|</code>, between the two commands is called a <strong>pipe</strong>.</li>
<li>Tells the shell that we want to use the output of the command on the left as the input to the command on the right.</li>
<li>This removes the need for intermediate file.</li>
</ul>
</section>
<section id="combining-multiple-commands" class="slide level2">
<h2>Combining Multiple Commands</h2>
<p>We can stack pipes. Send <code>wc</code> output ‚Üí <code>sort</code>, then ‚Üí <code>head</code>.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb175-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb176"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb176-1"><a></a>   9  methane.pdb</span>
<span id="cb176-2"><a></a>  12  ethane.pdb</span>
<span id="cb176-3"><a></a>  15  propane.pdb</span>
<span id="cb176-4"><a></a>  20  cubane.pdb</span>
<span id="cb176-5"><a></a>  21  pentane.pdb</span>
<span id="cb176-6"><a></a>  30  octane.pdb</span>
<span id="cb176-7"><a></a> 107 total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can then send that output through another pipe, to <code>head</code>, so the full pipeline becomes:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb177-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb178"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb178-1"><a></a>   9  methane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>This is exactly like a mathematician nesting functions like <em>log(3x)</em> and saying ‚Äòthe log of three times <em>x</em>‚Äô.</li>
<li>In our case, the function is ‚Äòhead of sort of line count of <code>*.pdb</code>‚Äô.</li>
</ul>
</section>
<section id="redirects-and-pipes-diagram" class="slide level2">
<h2>Redirects and Pipes Diagram</h2>
<p>The redirection and pipes used in the last few commands are illustrated below:</p>

<img data-src="../episodes/fig/redirects-and-pipes.svg" alt="Redirects and Pipes of different commands: &quot;wc -l *.pdb&quot; will direct theoutput to the shell. &quot;wc -l *.pdb > lengths&quot; will direct output to the file&quot;lengths&quot;. &quot;wc -l *.pdb | sort -n | head -n 1&quot; will build a pipeline where theoutput of the &quot;wc&quot; command is the input to the &quot;sort&quot; command, the output ofthe &quot;sort&quot; command is the input to the &quot;head&quot; command and the output of the&quot;head&quot; command is directed to the shell" class="r-stretch"></section>
<section id="challenge-piping-commands-together" class="slide level2">
<h2>Challenge: Piping Commands Together</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>In our current directory, we want to find the 3 files which have the least number of lines. Which command listed below would work?</p>
<ol type="1">
<li><code>wc -l * &gt; sort -n &gt; head -n 3</code></li>
<li><code>wc -l * | sort -n | head -n 1-3</code></li>
<li><code>wc -l * | head -n 3 | sort -n</code></li>
<li><code>wc -l * | sort -n | head -n 3</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-44" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>Option 4 is the solution. The pipe character <code>|</code> is used to connect the output from one command to the input of another. <code>&gt;</code> is used to redirect standard output to a file. Try it in the <code>shell-lesson-data/exercise-data/alkanes</code> directory!</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-pipe-reading-comprehension" class="slide level2">
<h2>Challenge: Pipe Reading Comprehension</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>A file called <code>animals.csv</code> (in the <code>shell-lesson-data/exercise-data/animal-counts</code> folder) contains the following data:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb179-1"><a></a>2012-11-05,deer,5</span>
<span id="cb179-2"><a></a>2012-11-05,rabbit,22</span>
<span id="cb179-3"><a></a>2012-11-05,raccoon,7</span>
<span id="cb179-4"><a></a>2012-11-06,rabbit,19</span>
<span id="cb179-5"><a></a>2012-11-06,deer,2</span>
<span id="cb179-6"><a></a>2012-11-06,fox,4</span>
<span id="cb179-7"><a></a>2012-11-07,rabbit,16</span>
<span id="cb179-8"><a></a>2012-11-07,bear,1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What text passes through each of the pipes and the final redirect in the pipeline below? Note, the <code>sort -r</code> command sorts in reverse order.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb180-1"><a></a><span class="fu">cat</span> animals.csv <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5 <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 3 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-r</span> <span class="op">&gt;</span> final.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hint: build the pipeline up one command at a time to test your understanding</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-46" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The <code>head</code> command extracts the first 5 lines from <code>animals.csv</code>. Then, the last 3 lines are extracted from the previous 5 by using the <code>tail</code> command. With the <code>sort -r</code> command those 3 lines are sorted in reverse order. Finally, the output is redirected to a file: <code>final.txt</code>. The content of this file can be checked by executing <code>cat final.txt</code>. The file should contain the following lines:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb181-1"><a></a>2012-11-06,rabbit,19</span>
<span id="cb181-2"><a></a>2012-11-06,deer,2</span>
<span id="cb181-3"><a></a>2012-11-05,raccoon,7</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-pipe-construction" class="slide level2">
<h2>Challenge: Pipe Construction</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>For the file <code>animals.csv</code> from the previous exercise, consider the following command:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb182-1"><a></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>cut</code> command is used to select or ‚Äòcut out‚Äô certain sections of each line in the file for further processing while leaving the original file unchanged. By default, <code>cut</code> expects the lines to be separated into columns by a <kbd>Tab</kbd> character. A character used in this way is called a <strong>delimiter</strong>.</p>
<p>In the example above we use the <code>-d</code> option to specify the comma as our delimiter character instead of <kbd>Tab</kbd>. We have also used the <code>-f</code> option to specify that we want to extract the second field (column). This gives the following output:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb183-1"><a></a>deer</span>
<span id="cb183-2"><a></a>rabbit</span>
<span id="cb183-3"><a></a>raccoon</span>
<span id="cb183-4"><a></a>rabbit</span>
<span id="cb183-5"><a></a>deer</span>
<span id="cb183-6"><a></a>fox</span>
<span id="cb183-7"><a></a>rabbit</span>
<span id="cb183-8"><a></a>bear</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>uniq</code> command filters out adjacent matching lines in a file. How could you extend this pipeline (using <code>uniq</code> and another command) to find out what animals the file contains (without any duplicates in their names)?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-48" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb184"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb184-1"><a></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-which-pipe" class="slide level2">
<h2>Challenge: Which Pipe?</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>The file <code>animals.csv</code> contains 8 lines of data formatted as follows:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb185-1"><a></a>2012-11-05,deer,5</span>
<span id="cb185-2"><a></a>2012-11-05,rabbit,22</span>
<span id="cb185-3"><a></a>2012-11-05,raccoon,7</span>
<span id="cb185-4"><a></a>2012-11-06,rabbit,19</span>
<span id="cb185-5"><a></a>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>uniq</code> command has a <code>-c</code> option which gives a count of the number of times a line occurs in its input. Assuming your current directory is <code>shell-lesson-data/exercise-data/animal-counts</code>, what command would you use to produce a table that shows the total count of each type of animal in the file?</p>
<ol type="1">
<li><code>sort animals.csv | uniq -c</code></li>
<li><code>sort -t, -k2,2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c | wc -l</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-50" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>Option 4 is the correct answer. If you have difficulty understanding why, try running the commands, or sub-sections of the pipelines (make sure you are in the <code>shell-lesson-data/exercise-data/animal-counts</code> directory).</p>
</div>
</div>
</div>
</div>
</section>
<section id="nelles-pipeline-checking-files" class="slide level2">
<h2>Nelle‚Äôs Pipeline: Checking Files</h2>
<p>Nelle has run her samples through the assay machines and created 17 files in the <code>north-pacific-gyre</code> directory described earlier. As a quick check, starting from the <code>shell-lesson-data</code> directory, Nelle types:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb186-1"><a></a><span class="bu">cd</span> north-pacific-gyre</span>
<span id="cb186-2"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The output is 18 lines that look like this:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb187-1"><a></a>300 NENE01729A.txt</span>
<span id="cb187-2"><a></a>300 NENE01729B.txt</span>
<span id="cb187-3"><a></a>300 NENE01736A.txt</span>
<span id="cb187-4"><a></a>300 NENE01751A.txt</span>
<span id="cb187-5"><a></a>300 NENE01751B.txt</span>
<span id="cb187-6"><a></a>300 NENE01812A.txt</span>
<span id="cb187-7"><a></a>... ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="nelle-identifies-a-problem" class="slide level2">
<h2>Nelle Identifies a Problem</h2>
<p>Now she types this:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb188-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb189"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb189-1"><a></a> 240 NENE02018B.txt</span>
<span id="cb189-2"><a></a> 300 NENE01729A.txt</span>
<span id="cb189-3"><a></a> 300 NENE01729B.txt</span>
<span id="cb189-4"><a></a> 300 NENE01736A.txt</span>
<span id="cb189-5"><a></a> 300 NENE01751A.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Whoops: one of the files is 60 lines shorter than the others.</p>
</section>
<section id="checking-the-short-file" class="slide level2">
<h2>Checking the Short File</h2>
<p>When she goes back and checks it, she sees that she did that assay at 8:00 on a Monday morning ‚Äî someone was probably in using the machine on the weekend, and she forgot to reset it.</p>
<p>Before re-running that sample, she checks to see if any files have too much data:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb190-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb191"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb191-1"><a></a> 300 NENE02040B.txt</span>
<span id="cb191-2"><a></a> 300 NENE02040Z.txt</span>
<span id="cb191-3"><a></a> 300 NENE02043A.txt</span>
<span id="cb191-4"><a></a> 300 NENE02043B.txt</span>
<span id="cb191-5"><a></a>5040 total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-mystery-z-files" class="slide level2">
<h2>The Mystery ‚ÄòZ‚Äô Files</h2>
<p>Those numbers look good ‚Äî but what‚Äôs that ‚ÄòZ‚Äô doing there in the third-to-last line?</p>
<p>All of her samples should be marked ‚ÄòA‚Äô or ‚ÄòB‚Äô; by convention, her lab uses ‚ÄòZ‚Äô to indicate samples with missing information.</p>
<p>To find others like it, she does this:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb192-1"><a></a><span class="fu">ls</span> <span class="pp">*</span>Z.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb193"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb193-1"><a></a>NENE01971Z.txt    NENE02040Z.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dealing-with-missing-data" class="slide level2">
<h2>Dealing with Missing Data</h2>
<p>Sure enough, when she checks the log on her laptop, there‚Äôs no depth recorded for either of those samples.</p>
<p>Since it‚Äôs too late to get the information any other way, she must exclude those two files from her analysis.</p>
<p>She could delete them using <code>rm</code>, but there are actually some analyses she might do later where depth doesn‚Äôt matter, so instead, she‚Äôll have to be careful later on to select files using the wildcard expressions <code>NENE*A.txt NENE*B.txt</code>.</p>
</section>
<section id="challenge-removing-unneeded-files" class="slide level2">
<h2>Challenge: Removing Unneeded Files</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Suppose you want to delete your processed data files, and only keep your raw files and processing script to save storage. The raw files end in <code>.dat</code> and the processed files end in <code>.txt</code>. Which of the following would remove all the processed data files, and <em>only</em> the processed data files?</p>
<ol type="1">
<li><code>rm ?.txt</code></li>
<li><code>rm *.txt</code></li>
<li><code>rm * .txt</code></li>
<li><code>rm *.*</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-52" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>This would remove <code>.txt</code> files with one-character names</li>
<li>This is the correct answer</li>
<li>The shell would expand <code>*</code> to match everything in the current directory, so the command would try to remove all matched files and an additional file called <code>.txt</code></li>
<li>The shell expands <code>*.*</code> to match all filenames containing at least one <code>.</code>, including the processed files (<code>.txt</code>) <em>and</em> raw files (<code>.dat</code>)</li>
</ol>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="episode-6-loops" class="title-slide slide level1 center">
<h1>Episode 6: Loops</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How can I perform the same actions on many different files?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Write a loop that applies one or more commands to each file in a set</li>
<li>Trace loop variable values during execution</li>
<li>Explain difference between variable name and value</li>
<li>Explain why spaces and special characters shouldn‚Äôt be in filenames</li>
<li>Demonstrate how to view recently executed commands</li>
<li>Re-run recently executed commands without retyping</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="what-are-loops" class="slide level2">
<h2>What Are Loops?</h2>
<p><strong>Loops</strong> are a programming construct which allow us to repeat a command or set of commands for each item in a list.</p>
<p>As such they are key to productivity improvements through automation.</p>
<p>Similar to wildcards and tab completion, using loops also reduces the amount of typing required (and hence reduces the number of typing mistakes).</p>
</section>
<section id="loop-structure" class="slide level2">
<h2>Loop Structure</h2>
<div class="sourceCode" id="cb194"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb194-1"><a></a><span class="co"># The word "for" indicates the start of a "For-loop" command</span></span>
<span id="cb194-2"><a></a><span class="cf">for</span> thing <span class="kw">in</span> list_of_things</span>
<span id="cb194-3"><a></a><span class="co"># The word "do" indicates the start of job execution list</span></span>
<span id="cb194-4"><a></a><span class="cf">do</span></span>
<span id="cb194-5"><a></a>    <span class="co"># Execute command(s) using the variable</span></span>
<span id="cb194-6"><a></a>    <span class="ex">operation_using/command</span> <span class="va">$thing</span></span>
<span id="cb194-7"><a></a><span class="co"># The word "done" indicates the end of a loop</span></span>
<span id="cb194-8"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Three keywords: <code>for</code>, <code>do</code>, <code>done</code></p>
</section>
<section id="example-files" class="slide level2">
<h2>Example Files</h2>
<p>Suppose we have several hundred genome data files named <code>basilisk.dat</code>, <code>minotaur.dat</code>, and <code>unicorn.dat</code>.</p>
<p>For this example, we‚Äôll use the <code>exercise-data/creatures</code> directory which only has three example files, but the principles can be applied to many many more files at once.</p>
<p>The structure of these files is the same: the common name, classification, and updated date are presented on the first three lines, with DNA sequences on the following lines.</p>
</section>
<section id="looking-at-the-files" class="slide level2">
<h2>Looking at the Files</h2>
<p>Let‚Äôs look at the files:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb195-1"><a></a><span class="fu">head</span> <span class="at">-n</span> 5 basilisk.dat minotaur.dat unicorn.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We would like to print out the classification for each species, which is given on the second line of each file.</p>
<p>For each file, we would need to execute the command <code>head -n 2</code> and pipe this to <code>tail -n 1</code>.</p>
</section>
<section id="general-form-of-a-loop" class="slide level2">
<h2>General Form of a Loop</h2>
<p>We‚Äôll use a loop to solve this problem, but first let‚Äôs look at the general form of a loop:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb196-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb196-2"><a></a><span class="cf">do</span></span>
<span id="cb196-3"><a></a>    <span class="bu">echo</span> <span class="va">$filename</span></span>
<span id="cb196-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb197"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb197-1"><a></a>basilisk.dat</span>
<span id="cb197-2"><a></a>minotaur.dat</span>
<span id="cb197-3"><a></a>unicorn.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="follow-the-prompt" class="slide level2">
<h2>Follow the Prompt</h2>
<p>When typing a loop, shell prompt changes:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb198-1"><a></a><span class="ex">$</span> for filename in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb198-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb198-3"><a></a><span class="op">&gt;</span>     echo <span class="va">$filename</span></span>
<span id="cb198-4"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>&gt;</code> prompt reminds you the command isn‚Äôt complete yet.</p>
<p>A semicolon <code>;</code> can separate commands on one line.</p>
</section>
<section id="same-symbols-different-meanings" class="slide level2">
<h2>Same Symbols, Different Meanings</h2>
<ul>
<li><strong>Shell prints <code>&gt;</code> or <code>$</code></strong>: it‚Äôs a prompt (expects input)</li>
<li><strong>You type <code>&gt;</code> or <code>$</code></strong>: it‚Äôs an instruction (redirect or variable)</li>
</ul>
<p>Context matters!</p>
</section>
<section id="loop-iteration" class="slide level2">
<h2>Loop Iteration</h2>
<p>Each time loop runs, variable holds next value:</p>
<ul>
<li><strong>First</strong>: <code>$filename</code> = <code>basilisk.dat</code></li>
<li><strong>Second</strong>: <code>$filename</code> = <code>minotaur.dat</code></li>
<li><strong>Third</strong>: <code>$filename</code> = <code>unicorn.dat</code></li>
</ul>
<p>Then shell exits loop (no more items).</p>
</section>
<section id="variable-substitution" class="slide level2">
<h2>Variable Substitution</h2>
<p>Use <code>$varname</code> to access the value.</p>
<p>The <code>$</code> tells shell: <strong>treat this as a variable, not literal text</strong>.</p>
<p>Replace with actual value before executing command.</p>
</section>
<section id="practical-loop-example" class="slide level2">
<h2>Practical Loop Example</h2>
<p>Get classification line from creature files:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb199-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb199-2"><a></a><span class="cf">do</span></span>
<span id="cb199-3"><a></a>    <span class="bu">echo</span> <span class="va">$filename</span></span>
<span id="cb199-4"><a></a>    <span class="fu">head</span> <span class="at">-n</span> 2 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb199-5"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb200"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb200-1"><a></a>basilisk.dat</span>
<span id="cb200-2"><a></a>CLASSIFICATION: basiliscus vulgaris</span>
<span id="cb200-3"><a></a>minotaur.dat</span>
<span id="cb200-4"><a></a>CLASSIFICATION: bos hominus</span>
<span id="cb200-5"><a></a>unicorn.dat</span>
<span id="cb200-6"><a></a>CLASSIFICATION: equus monoceros</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="variable-name-vs-value" class="slide level2">
<h2>Variable Name vs Value</h2>
<p>Variable name: <code>filename</code> (the name)</p>
<p>Variable value: <code>basilisk.dat</code> (the data)</p>
<p>Use <code>$filename</code> to get the <strong>value</strong>, not the name.</p>
</section>
<section id="variable-naming" class="slide level2">
<h2>Variable Naming</h2>
<p>Two syntaxes:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb201-1"><a></a><span class="bu">echo</span> <span class="va">$filename</span>      <span class="co"># Simple</span></span>
<span id="cb201-2"><a></a><span class="bu">echo</span> <span class="va">${filename}</span>    <span class="co"># With braces (clearer)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Braces useful when variable next to text:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb202-1"><a></a><span class="bu">echo</span> <span class="va">${filename}</span>.bak    <span class="co"># Shows: basilisk.dat.bak</span></span>
<span id="cb202-2"><a></a><span class="bu">echo</span> <span class="va">$filename</span>.bak      <span class="co"># Looks for variable "filename.bak"!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="variable-naming-tips" class="slide level2">
<h2>Variable Naming Tips</h2>
<ul>
<li>Use <strong>meaningful names</strong>: <code>filename</code>, not <code>x</code></li>
<li>Helps others (and future you) understand code</li>
<li>Increases odds people interpret it correctly</li>
</ul>
<p>The shell doesn‚Äôt care‚Äîonly we do!</p>
</section>
<section id="loops-with-numbers" class="slide level2">
<h2>Loops with Numbers</h2>
<p>Loops work with any list, not just filenames:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb203-1"><a></a><span class="cf">for</span> number <span class="kw">in</span> 0 1 2 3 4 5</span>
<span id="cb203-2"><a></a><span class="cf">do</span></span>
<span id="cb203-3"><a></a>    <span class="bu">echo</span> <span class="va">$number</span></span>
<span id="cb203-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="challenge-write-your-own-loop" class="slide level2">
<h2>Challenge: Write Your Own Loop</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>How would you write a loop that echoes all 10 numbers from 0 to 9?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-54" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb204"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb204-1"><a></a><span class="cf">for</span> loop_variable <span class="kw">in</span> 0 1 2 3 4 5 6 7 8 9</span>
<span id="cb204-2"><a></a><span class="cf">do</span></span>
<span id="cb204-3"><a></a>    <span class="bu">echo</span> <span class="va">$loop_variable</span></span>
<span id="cb204-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb205"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb205-1"><a></a>0</span>
<span id="cb205-2"><a></a>1</span>
<span id="cb205-3"><a></a>2</span>
<span id="cb205-4"><a></a>3</span>
<span id="cb205-5"><a></a>4</span>
<span id="cb205-6"><a></a>5</span>
<span id="cb205-7"><a></a>6</span>
<span id="cb205-8"><a></a>7</span>
<span id="cb205-9"><a></a>8</span>
<span id="cb205-10"><a></a>9</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Alternatively, try replacing the enumeration of integers <code>0 1 2 3 4 5 6 7 8 9</code> by <code>{0..9}</code> to obtain an identical output.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-variables-in-loops" class="slide level2">
<h2>Challenge: Variables in Loops</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>In <code>shell-lesson-data/exercise-data/alkanes</code>, <code>ls *.pdb</code> gives:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb206-1"><a></a>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>First code:</strong></p>
<div class="sourceCode" id="cb207"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb207-1"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb207-2"><a></a><span class="cf">do</span></span>
<span id="cb207-3"><a></a>    <span class="fu">ls</span> <span class="pp">*</span>.pdb</span>
<span id="cb207-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Second code:</strong></p>
<div class="sourceCode" id="cb208"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb208-1"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb208-2"><a></a><span class="cf">do</span></span>
<span id="cb208-3"><a></a>    <span class="fu">ls</span> <span class="va">$datafile</span></span>
<span id="cb208-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What‚Äôs the difference?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-56" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>First code:</strong> lists ALL <code>.pdb</code> files <strong>each iteration</strong> (6 times total).</p>
<p>Shell expands <code>*.pdb</code> in loop body for each iteration.</p>
<p><strong>Second code:</strong> lists ONE file <strong>per iteration</strong> (6 different files).</p>
<p>Variable <code>$datafile</code> evaluates to current file each time.</p>
<p>Second code is cleaner and what we usually want!</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-limiting-sets-of-files-c" class="slide level2">
<h2>Challenge: Limiting Sets of Files (c*)</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>In <code>shell-lesson-data/exercise-data/alkanes</code>, what does this loop output?</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb209-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> c<span class="pp">*</span></span>
<span id="cb209-2"><a></a><span class="cf">do</span></span>
<span id="cb209-3"><a></a>    <span class="fu">ls</span> <span class="va">$filename</span></span>
<span id="cb209-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>No files listed</li>
<li>All files are listed</li>
<li>Only <code>cubane.pdb</code>, <code>octane.pdb</code>, <code>pentane.pdb</code></li>
<li>Only <code>cubane.pdb</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-58" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Option 4 is correct.</strong></p>
<p><code>*</code> matches zero or more characters.</p>
<p><code>c*</code> matches any filename <strong>starting with ‚Äòc‚Äô</strong> (only <code>cubane.pdb</code>).</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-limiting-sets-c" class="slide level2">
<h2>Challenge: Limiting Sets (<em>c</em>)</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>How different is this loop?</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb210-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>c<span class="pp">*</span></span>
<span id="cb210-2"><a></a><span class="cf">do</span></span>
<span id="cb210-3"><a></a>    <span class="fu">ls</span> <span class="va">$filename</span></span>
<span id="cb210-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>Same files listed</li>
<li>All files are listed now</li>
<li>No files listed now</li>
<li><code>cubane.pdb</code> and <code>octane.pdb</code></li>
<li>Only <code>octane.pdb</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-60" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Option 4 is correct.</strong></p>
<p><code>*c*</code> matches filename with ‚Äòc‚Äô <strong>anywhere in name</strong> (before or after).</p>
<p>Matches: <code>cubane.pdb</code> (c at start) and <code>octane.pdb</code> (c in middle).</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-saving-to-file-with" class="slide level2">
<h2>Challenge: Saving to File with &gt;</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>In <code>shell-lesson-data/exercise-data/alkanes</code>, what does this loop do?</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb211-1"><a></a><span class="cf">for</span> alkanes <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb211-2"><a></a><span class="cf">do</span></span>
<span id="cb211-3"><a></a>    <span class="bu">echo</span> <span class="va">$alkanes</span></span>
<span id="cb211-4"><a></a>    <span class="fu">cat</span> <span class="va">$alkanes</span> <span class="op">&gt;</span> alkanes.pdb</span>
<span id="cb211-5"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>Prints all 6 files; only <code>propane.pdb</code> saved to <code>alkanes.pdb</code></li>
<li>Prints 3 files; all concatenated and saved to <code>alkanes.pdb</code></li>
<li>Prints 5 files; only <code>propane.pdb</code> saved to <code>alkanes.pdb</code></li>
<li>None of the above</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-62" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Option 1 is correct.</strong></p>
<p>Each iteration: <code>&gt;</code> <strong>overwrites</strong> (not appends).</p>
<p>Last file processed (<code>propane.pdb</code>) is final content.</p>
<p>Use <code>&gt;&gt;</code> to append instead!</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-saving-to-file-with-1" class="slide level2">
<h2>Challenge: Saving to File with &gt;&gt;</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>In <code>shell-lesson-data/exercise-data/alkanes</code>, what does this loop do?</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb212-1"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb212-2"><a></a><span class="cf">do</span></span>
<span id="cb212-3"><a></a>    <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb212-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>All files up to <code>pentane.pdb</code> concatenated</li>
<li>Only <code>ethane.pdb</code> saved</li>
<li>All 6 files concatenated to <code>all.pdb</code></li>
<li>All 5 files concatenated</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-64" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Option 3 is correct.</strong></p>
<p><code>&gt;&gt;</code> <strong>appends</strong> each file (doesn‚Äôt overwrite).</p>
<p>All 6 files concatenated to <code>all.pdb</code>.</p>
<p>Nothing printed (output redirected to file).</p>
</div>
</div>
</div>
</div>
</section>
<section id="another-practical-example" class="slide level2">
<h2>Another Practical Example</h2>
<p>In <code>shell-lesson-data/exercise-data/creatures</code>:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb213-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>.dat</span>
<span id="cb213-2"><a></a><span class="cf">do</span></span>
<span id="cb213-3"><a></a>    <span class="bu">echo</span> <span class="va">$filename</span></span>
<span id="cb213-4"><a></a>    <span class="fu">head</span> <span class="at">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb213-5"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Loop body:</strong> two commands - Echo filename - Select lines 81-100 (or all if fewer than 100)</p>
</section>
<section id="spaces-in-filenames" class="slide level2">
<h2>Spaces in Filenames</h2>
<p>Shell uses spaces to <strong>separate items</strong>!</p>
<p>Filenames with spaces: <code>red dragon.dat</code>, <code>purple unicorn.dat</code></p>
<p>Must quote them:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb214-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="st">"red dragon.dat"</span> <span class="st">"purple unicorn.dat"</span></span>
<span id="cb214-2"><a></a><span class="cf">do</span></span>
<span id="cb214-3"><a></a>    <span class="fu">head</span> <span class="at">-n</span> 100 <span class="st">"</span><span class="va">$filename</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb214-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Always quote variables</strong> to be safe: <code>"$filename"</code></p>
<p>It is simpler to <strong>avoid using spaces</strong> (or other special characters) in filenames.</p>
</section>
<section id="what-happens-without-quotes" class="slide level2">
<h2>What Happens Without Quotes?</h2>
<p>The files <code>red dragon.dat</code> and <code>purple unicorn.dat</code> don‚Äôt exist, so if we run the code without quotes around <code>$filename</code>, we get errors:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb215-1"><a></a>head: cannot open 'red' for reading: No such file or directory</span>
<span id="cb215-2"><a></a>head: cannot open 'dragon.dat' for reading: No such file or directory</span>
<span id="cb215-3"><a></a>head: cannot open 'purple' for reading: No such file or directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>With quotes, we‚Äôd see:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode numberSource error number-lines code-with-copy"><code class="sourceCode"><span id="cb216-1"><a></a>head: cannot open 'red dragon.dat' for reading: No such file or directory</span>
<span id="cb216-2"><a></a>head: cannot open 'purple unicorn.dat' for reading: No such file or directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="why-quote-variables" class="slide level2">
<h2>Why Quote Variables?</h2>
<p>Without quotes: - Shell splits by spaces - <code>"red dragon.dat"</code> becomes two items: <code>red</code>, <code>dragon.dat</code> - Commands fail</p>
<p>With quotes: - Treated as single item - Commands work correctly</p>
<p><strong>Best practice</strong>: Avoid spaces in filenames entirely (use <code>-</code> or <code>_</code>).</p>
</section>
<section id="backing-up-files-in-a-loop" class="slide level2">
<h2>Backing Up Files in a Loop</h2>
<p><strong>Problem</strong>: Copy all <code>.dat</code> files to <code>original-</code> versions.</p>
<p><strong>Can‚Äôt do this:</strong></p>
<div class="sourceCode" id="cb217"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb217-1"><a></a><span class="fu">cp</span> <span class="pp">*</span>.dat original-<span class="pp">*</span>.dat  <span class="co"># ERROR!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Expands to: <code>cp basilisk.dat minotaur.dat unicorn.dat original-*.dat</code></p>
<p>Shell sees 4 arguments, expects last to be directory!</p>
</section>
<section id="solution-use-a-loop" class="slide level2">
<h2>Solution: Use a Loop</h2>
<div class="sourceCode" id="cb218"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb218-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>.dat</span>
<span id="cb218-2"><a></a><span class="cf">do</span></span>
<span id="cb218-3"><a></a>    <span class="fu">cp</span> <span class="va">$filename</span> original-<span class="va">$filename</span></span>
<span id="cb218-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each iteration: - <code>$filename</code> = <code>basilisk.dat</code> ‚Üí <code>cp basilisk.dat original-basilisk.dat</code> - <code>$filename</code> = <code>minotaur.dat</code> ‚Üí <code>cp minotaur.dat original-minotaur.dat</code> - <code>$filename</code> = <code>unicorn.dat</code> ‚Üí <code>cp unicorn.dat original-unicorn.dat</code></p>
</section>
<section id="testing-loops-with-echo" class="slide level2">
<h2>Testing Loops with <code>echo</code></h2>
<p><strong>Hard to verify</strong> loop did what you want (no output from <code>cp</code>).</p>
<p><strong>Solution</strong>: Use <code>echo</code> to print commands without executing:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb219-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>.dat</span>
<span id="cb219-2"><a></a><span class="cf">do</span></span>
<span id="cb219-3"><a></a>    <span class="bu">echo</span> cp <span class="va">$filename</span> original-<span class="va">$filename</span></span>
<span id="cb219-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>See what <strong>would</strong> run, verify correctness, then remove <code>echo</code>!</p>
<p>The judicious use of <code>echo</code> is a good <strong>debugging technique</strong>.</p>
</section>
<section id="loop-flow-chart" class="slide level2">
<h2>Loop Flow Chart</h2>
<p>The following diagram shows what happens when the modified loop is executed, and demonstrates how the judicious use of <code>echo</code> is a good debugging technique.</p>

<img data-src="../episodes/fig/shell_script_for_loop_flow_chart.svg" alt="For loop flow chart showing variable assignment and iteration" class="r-stretch"></section>
<section id="nelles-pipeline-processing-files" class="slide level2">
<h2>Nelle‚Äôs Pipeline: Processing Files</h2>
<p>Nelle is now ready to process her data files using <code>goostats.sh</code> ‚Äî a shell script written by her supervisor.</p>
<p>This calculates some <strong>statistics from a protein sample file</strong> and takes two arguments:</p>
<ol type="1">
<li>an input file (containing the raw data)</li>
<li>an output file (to store the calculated statistics)</li>
</ol>
<p>Since she‚Äôs still learning how to use the shell, she decides to <strong>build up the required commands in stages</strong>.</p>
</section>
<section id="nelle-tests-file-selection" class="slide level2">
<h2>Nelle Tests File Selection</h2>
<p>Her first step is to make sure that she can select the right input files ‚Äî remember, these are ones whose names end in ‚ÄòA‚Äô or ‚ÄòB‚Äô, rather than ‚ÄòZ‚Äô.</p>
<p>Moving to the <code>north-pacific-gyre</code> directory, Nelle types:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb220-1"><a></a><span class="bu">cd</span></span>
<span id="cb220-2"><a></a><span class="bu">cd</span> Desktop/shell-lesson-data/north-pacific-gyre</span>
<span id="cb220-3"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb220-4"><a></a><span class="cf">do</span></span>
<span id="cb220-5"><a></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb220-6"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb221"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb221-1"><a></a>NENE01729A.txt</span>
<span id="cb221-2"><a></a>NENE01736A.txt</span>
<span id="cb221-3"><a></a>NENE01751A.txt</span>
<span id="cb221-4"><a></a>...</span>
<span id="cb221-5"><a></a>NENE02040B.txt</span>
<span id="cb221-6"><a></a>NENE02043B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Good! Selects correct files.</p>
</section>
<section id="nelle-builds-output-filenames" class="slide level2">
<h2>Nelle Builds Output Filenames</h2>
<p>Her next step is to decide what to call the files that the <code>goostats.sh</code> analysis program will create.</p>
<p>Prefixing each input file‚Äôs name with ‚Äòstats‚Äô seems simple, so she modifies her loop:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb222-1"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb222-2"><a></a><span class="cf">do</span></span>
<span id="cb222-3"><a></a>    <span class="bu">echo</span> <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb222-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb223"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb223-1"><a></a>NENE01729A.txt stats-NENE01729A.txt</span>
<span id="cb223-2"><a></a>NENE01736A.txt stats-NENE01736A.txt</span>
<span id="cb223-3"><a></a>NENE01751A.txt stats-NENE01751A.txt</span>
<span id="cb223-4"><a></a>...</span>
<span id="cb223-5"><a></a>NENE02040B.txt stats-NENE02040B.txt</span>
<span id="cb223-6"><a></a>NENE02043B.txt stats-NENE02043B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Perfect! Ready to process.</p>
<p>She hasn‚Äôt actually run <code>goostats.sh</code> yet, but now she‚Äôs sure she can select the right files and generate the right output filenames.</p>
</section>
<section id="command-history" class="slide level2">
<h2>Command History</h2>
<p><strong>Typing same command repeatedly is tedious!</strong></p>
<p>Shell remembers recent commands.</p>
<p><strong>View history:</strong></p>
<div class="sourceCode" id="cb224"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb224-1"><a></a><span class="bu">history</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Shows numbered list of previous commands.</p>
</section>
<section id="accessing-history" class="slide level2">
<h2>Accessing History</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Method</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>‚Üë</code></td>
<td>Previous command</td>
</tr>
<tr class="even">
<td><code>‚Üì</code></td>
<td>Next command</td>
</tr>
<tr class="odd">
<td><code>!42</code></td>
<td>Run command #42</td>
</tr>
<tr class="even">
<td><code>Ctrl-R</code></td>
<td>Search history</td>
</tr>
</tbody>
</table>
</section>
<section id="one-liner-loop" class="slide level2">
<h2>One-Liner Loop</h2>
<p>Press <strong>Up arrow</strong>:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb225-1"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Entire loop on one line using semicolons <code>;</code></p>
<p>Same as multi-line version!</p>
</section>
<section id="beginning-and-end" class="slide level2">
<h2>Beginning and End</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Beginning and End</strong></p>
</div>
<div class="callout-content">
<p>We can move to the beginning of a line in the shell by typing <kbd>Ctrl</kbd>+<kbd>A</kbd> and to the end using <kbd>Ctrl</kbd>+<kbd>E</kbd>.</p>
</div>
</div>
</div>
</section>
<section id="those-who-know-history" class="slide level2">
<h2>Those Who Know History</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Those Who Know History Can Choose to Repeat It</strong></p>
</div>
<div class="callout-content">
<p>Another way to repeat previous work is to use the <code>history</code> command to get a list of the last few hundred commands that have been executed, and then to use <code>!123</code> (where <code>123</code> is replaced by the command number) to repeat one of those commands. For example, if Nelle types this:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb226-1"><a></a><span class="bu">history</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb227"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb227-1"><a></a>  456  for datafile in NENE*A.txt NENE*B.txt; do echo $datafile stats-$datafile; done</span>
<span id="cb227-2"><a></a>  457  for datafile in NENE*A.txt NENE*B.txt; do bash goostats.sh $datafile stats-$datafile; done</span>
<span id="cb227-3"><a></a>  458  for datafile in NENE*A.txt NENE*B.txt; do echo $datafile; done</span>
<span id="cb227-4"><a></a>  459  cd ..</span>
<span id="cb227-5"><a></a>  460  history | tail -n 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>then she can re-run <code>bash goostats.sh</code> on all her files by typing <code>!457</code>.</p>
</div>
</div>
</div>
</section>
<section id="other-history-commands" class="slide level2">
<h2>Other history Commands</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Other history Commands</strong></p>
</div>
<div class="callout-content">
<p>There are a number of other shortcut commands for getting at the history:</p>
<ul>
<li><kbd>Ctrl</kbd>+<kbd>R</kbd> enters a history search mode ‚Äòreverse-i-search‚Äô and finds the most recent command in your history that matches the text you enter next. Press <kbd>Ctrl</kbd>+<kbd>R</kbd> one or more additional times to search for earlier matches. You can then use the left and right arrow keys to choose that line and edit it then hit <kbd>Return</kbd> to run the command.</li>
<li><code>!!</code> retrieves the immediately preceding command (you may or may not find this more convenient than using <kbd>‚Üë</kbd>)</li>
<li><code>!$</code> retrieves the last word of the last command. That‚Äôs useful more often than you might expect: after <code>bash goostats.sh NENE01729B.txt stats-NENE01729B.txt</code>, you can type <code>less !$</code> to look at the file <code>stats-NENE01729B.txt</code>, which is quicker than doing <kbd>‚Üë</kbd> and editing the command-line.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="challenge-doing-a-dry-run" class="slide level2">
<h2>Challenge: Doing a Dry Run</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>A loop is a way to do many things at once ‚Äî or to make many mistakes at once if it does the wrong thing. One way to check what a loop <em>would</em> do is to <code>echo</code> the commands it would run instead of actually running them.</p>
<p>Suppose we want to preview the commands the following loop will execute without actually running those commands:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb228-1"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb228-2"><a></a><span class="cf">do</span></span>
<span id="cb228-3"><a></a>    <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb228-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What is the difference between the two loops below, and which one would we want to run?</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb229-1"><a></a><span class="co"># Version 1</span></span>
<span id="cb229-2"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb229-3"><a></a><span class="cf">do</span></span>
<span id="cb229-4"><a></a>    <span class="bu">echo</span> cat <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb229-5"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb230"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb230-1"><a></a><span class="co"># Version 2</span></span>
<span id="cb230-2"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb230-3"><a></a><span class="cf">do</span></span>
<span id="cb230-4"><a></a>    <span class="bu">echo</span> <span class="st">"cat </span><span class="va">$datafile</span><span class="st"> &gt;&gt; all.pdb"</span></span>
<span id="cb230-5"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-66" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The second version is the one we want to run. This prints to screen everything enclosed in the quote marks, expanding the loop variable name because we have prefixed it with a dollar sign. It also <em>does not</em> modify nor create the file <code>all.pdb</code>, as the <code>&gt;&gt;</code> is treated literally as part of a string rather than as a redirection instruction.</p>
<p>The first version appends the output from the command <code>echo cat $datafile</code> to the file, <code>all.pdb</code>. This file will just contain the list; <code>cat cubane.pdb</code>, <code>cat ethane.pdb</code>, <code>cat methane.pdb</code> etc.</p>
<p>Try both versions for yourself to see the output! Be sure to open the <code>all.pdb</code> file to view its contents.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-nested-loops" class="slide level2">
<h2>Challenge: Nested Loops</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Suppose we want to set up a directory structure to organize some experiments measuring reaction rate constants with different compounds <em>and</em> different temperatures. What would be the result of the following code:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb231-1"><a></a><span class="cf">for</span> species <span class="kw">in</span> cubane ethane methane</span>
<span id="cb231-2"><a></a><span class="cf">do</span></span>
<span id="cb231-3"><a></a>    <span class="cf">for</span> temperature <span class="kw">in</span> 25 30 37 40</span>
<span id="cb231-4"><a></a>    <span class="cf">do</span></span>
<span id="cb231-5"><a></a>        <span class="fu">mkdir</span> <span class="va">$species</span>-<span class="va">$temperature</span></span>
<span id="cb231-6"><a></a>    <span class="cf">done</span></span>
<span id="cb231-7"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-68" class="slide level2">
<h2>Solution</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>We have a nested loop, i.e.&nbsp;contained within another loop, so for each species in the outer loop, the inner loop (the nested loop) iterates over the list of temperatures, and creates a new directory for each combination.</p>
<p>Try running the code for yourself to see which directories are created!</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="episode-7-shell-scripts" class="title-slide slide level1 center">
<h1>Episode 7: Shell Scripts</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How can I save and re-use commands?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Write shell script that runs commands for fixed file set</li>
<li>Run shell script from command line</li>
<li>Write shell script that operates on user-defined file set</li>
<li>Create pipelines with shell scripts you and others wrote</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="why-shell-scripts" class="slide level2">
<h2>Why Shell Scripts?</h2>
<p><strong>A file containing shell commands = a small program</strong></p>
<p>Benefits of shell scripts:</p>
<ul>
<li><strong>Speed</strong>: No retyping commands</li>
<li><strong>Accuracy</strong>: Fewer chances for typos</li>
<li><strong>Reproducibility</strong>: Same results every time</li>
<li><strong>Documentation</strong>: Shows what was done</li>
<li><strong>Sharing</strong>: Others can use your work</li>
</ul>
<p>Let‚Äôs turn repeated commands into reusable programs!</p>
</section>
<section id="creating-your-first-script" class="slide level2">
<h2>Creating Your First Script</h2>
<p>Navigate to <code>alkanes/</code> directory and create a script:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb232-1"><a></a><span class="bu">cd</span> alkanes</span>
<span id="cb232-2"><a></a><span class="fu">nano</span> middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>nano</code> command opens a text editor in the shell.</p>
</section>
<section id="text-editors-vs.-word-processors" class="slide level2">
<h2>Text Editors vs.&nbsp;Word Processors</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Text vs.&nbsp;Whatever</strong></p>
</div>
<div class="callout-content">
<p>Word processors (Microsoft Word, LibreOffice) store <strong>formatting information</strong> about fonts, headings, etc.</p>
<p>Shell commands need <strong>plain text only</strong> ‚Äî no formatting codes.</p>
<p>When editing programs, <strong>save as plain text</strong>, not <code>.docx</code> or <code>.odt</code>!</p>
</div>
</div>
</div>
</section>
<section id="your-first-script-content" class="slide level2">
<h2>Your First Script Content</h2>
<p>In nano, type this pipe that selects lines 11-15:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb233-1"><a></a><span class="fu">head</span> <span class="at">-n</span> 15 octane.pdb <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Save with: <code>Ctrl-O</code>, then <code>Enter</code>, then <code>Ctrl-X</code> to exit</p>
<p>Verify it was created:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb234-1"><a></a><span class="fu">ls</span> <span class="at">-l</span> middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="running-your-script" class="slide level2">
<h2>Running Your Script</h2>
<p>Execute the script:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb235-1"><a></a><span class="fu">bash</span> middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb236"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb236-1"><a></a>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00</span>
<span id="cb236-2"><a></a>ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00</span>
<span id="cb236-3"><a></a>ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00</span>
<span id="cb236-4"><a></a>ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00</span>
<span id="cb236-5"><a></a>ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output matches running the command manually!</p>
</section>
<section id="problem-not-flexible" class="slide level2">
<h2>Problem: Not Flexible</h2>
<p><strong>Current issue</strong>: Script only works on <code>octane.pdb</code></p>
<p><strong>Solution</strong>: Make it accept <strong>command-line arguments</strong>!</p>
<p>Then same script works on any file.</p>
</section>
<section id="making-scripts-flexible-using-1" class="slide level2">
<h2>Making Scripts Flexible: Using $1</h2>
<p>Edit <code>middle.sh</code> to use a variable:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb237-1"><a></a><span class="fu">nano</span> middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Replace <code>octane.pdb</code> with special variable <code>$1</code>:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb238-1"><a></a><span class="fu">head</span> <span class="at">-n</span> 15 <span class="st">"</span><span class="va">$1</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>$1</code> means: <strong>first command-line argument</strong></p>
</section>
<section id="using-the-1-argument" class="slide level2">
<h2>Using the $1 Argument</h2>
<p>Now the script works on any file:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb239-1"><a></a><span class="fu">bash</span> middle.sh octane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb240"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb240-1"><a></a>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00</span>
<span id="cb240-2"><a></a>ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00</span>
<span id="cb240-3"><a></a>ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00</span>
<span id="cb240-4"><a></a>ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00</span>
<span id="cb240-5"><a></a>ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or with a different file:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb241-1"><a></a><span class="fu">bash</span> middle.sh pentane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Same script, different results!</p>
</section>
<section id="quoting-arguments-matters" class="slide level2">
<h2>Quoting Arguments Matters</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Double-Quotes Around Arguments</strong></p>
</div>
<div class="callout-content">
<p>Always put double-quotes around variables to handle filenames with spaces:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb242-1"><a></a><span class="fu">head</span> <span class="st">"</span><span class="va">$1</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5     <span class="co"># Safe!</span></span>
<span id="cb242-2"><a></a><span class="fu">head</span> <span class="va">$1</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5       <span class="co"># Breaks if spaces in filename!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This also protects special characters in filenames.</p>
</div>
</div>
</div>
</section>
<section id="making-it-more-flexible-2-3" class="slide level2">
<h2>Making It More Flexible: $2, $3</h2>
<p>Make the script control <strong>all parameters</strong>:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb243-1"><a></a><span class="fu">nano</span> middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Edit to:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb244-1"><a></a><span class="fu">head</span> <span class="at">-n</span> <span class="st">"</span><span class="va">$2</span><span class="st">"</span> <span class="st">"</span><span class="va">$1</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> <span class="st">"</span><span class="va">$3</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now: - <code>$1</code> = filename - <code>$2</code> = lines for <code>head</code> - <code>$3</code> = lines for <code>tail</code></p>
</section>
<section id="using-multiple-arguments" class="slide level2">
<h2>Using Multiple Arguments</h2>
<p>With three parameters, we can change behavior:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb245-1"><a></a><span class="fu">bash</span> middle.sh pentane.pdb 15 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb246"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb246-1"><a></a>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00</span>
<span id="cb246-2"><a></a>ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00</span>
<span id="cb246-3"><a></a>ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00</span>
<span id="cb246-4"><a></a>ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00</span>
<span id="cb246-5"><a></a>ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or with different numbers:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb247-1"><a></a><span class="fu">bash</span> middle.sh pentane.pdb 20 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb248"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb248-1"><a></a>ATOM     14  H           1      -1.259   1.420   0.112  1.00  0.00</span>
<span id="cb248-2"><a></a>ATOM     15  H           1      -2.608  -0.407   1.130  1.00  0.00</span>
<span id="cb248-3"><a></a>ATOM     16  H           1      -2.540  -1.303  -0.404  1.00  0.00</span>
<span id="cb248-4"><a></a>ATOM     17  H           1      -3.393   0.254  -0.321  1.00  0.00</span>
<span id="cb248-5"><a></a>TER      18              1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="adding-comments-for-documentation" class="slide level2">
<h2>Adding Comments for Documentation</h2>
<p>The next reader won‚Äôt know what <code>$2</code> and <code>$3</code> mean!</p>
<p>Edit <code>middle.sh</code> to add helpful comments:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb249-1"><a></a><span class="fu">nano</span> middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb250"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb250-1"><a></a><span class="co"># Select lines from the middle of a file.</span></span>
<span id="cb250-2"><a></a><span class="co"># Usage: bash middle.sh filename end_line num_lines</span></span>
<span id="cb250-3"><a></a><span class="fu">head</span> <span class="at">-n</span> <span class="st">"</span><span class="va">$2</span><span class="st">"</span> <span class="st">"</span><span class="va">$1</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> <span class="st">"</span><span class="va">$3</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Comments start with <code>#</code> and run to end of line.</p>
</section>
<section id="comment-best-practices" class="slide level2">
<h2>Comment Best Practices</h2>
<p><strong>Keep comments accurate and up-to-date!</strong></p>
<p>An inaccurate comment is <strong>worse than no comment</strong>.</p>
<p>Update comments whenever you change code.</p>
</section>
<section id="all-arguments-using" class="slide level2">
<h2>All Arguments: Using $@</h2>
<p><strong>Challenge</strong>: Process many files at once.</p>
<p>Example: sort <code>.pdb</code> files by line count:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb251-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We need a way to pass <strong>any number of filenames</strong>.</p>
<p>Solution: <code>$@</code> = <strong>all command-line arguments</strong></p>
</section>
<section id="using-in-a-script" class="slide level2">
<h2>Using $@ in a Script</h2>
<p>Create a new script that accepts <strong>many files</strong>:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb252-1"><a></a><span class="fu">nano</span> sorted.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb253"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb253-1"><a></a><span class="co"># Sort files by their length.</span></span>
<span id="cb253-2"><a></a><span class="co"># Usage: bash sorted.sh one_or_more_filenames</span></span>
<span id="cb253-3"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>$@</code> automatically expands to all arguments!</p>
</section>
<section id="running-script-with-multiple-files" class="slide level2">
<h2>Running Script with Multiple Files</h2>
<div class="sourceCode" id="cb254"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb254-1"><a></a><span class="fu">bash</span> sorted.sh <span class="pp">*</span>.pdb ../creatures/<span class="pp">*</span>.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb255"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb255-1"><a></a>9 methane.pdb</span>
<span id="cb255-2"><a></a>12 ethane.pdb</span>
<span id="cb255-3"><a></a>15 propane.pdb</span>
<span id="cb255-4"><a></a>20 cubane.pdb</span>
<span id="cb255-5"><a></a>21 pentane.pdb</span>
<span id="cb255-6"><a></a>30 octane.pdb</span>
<span id="cb255-7"><a></a>163 ../creatures/basilisk.dat</span>
<span id="cb255-8"><a></a>163 ../creatures/minotaur.dat</span>
<span id="cb255-9"><a></a>163 ../creatures/unicorn.dat</span>
<span id="cb255-10"><a></a>596 total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Works with any number of files!</p>
</section>
<section id="script-arguments-reference" class="slide level2">
<h2>Script Arguments Reference</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Variable</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>$1</code></td>
<td>First argument</td>
</tr>
<tr class="even">
<td><code>$2</code></td>
<td>Second argument</td>
</tr>
<tr class="odd">
<td><code>$3</code></td>
<td>Third argument</td>
</tr>
<tr class="even">
<td><code>$@</code></td>
<td><strong>All arguments</strong></td>
</tr>
<tr class="odd">
<td><code>$#</code></td>
<td>Number of arguments</td>
</tr>
</tbody>
</table>
</section>
<section id="challenge-list-unique-species" class="slide level2">
<h2>Challenge: List Unique Species</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Leah has hundreds of data files formatted like <code>animals.csv</code>:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb256-1"><a></a>2013-11-05,deer,5</span>
<span id="cb256-2"><a></a>2013-11-05,rabbit,22</span>
<span id="cb256-3"><a></a>2013-11-05,raccoon,7</span>
<span id="cb256-4"><a></a>2013-11-06,rabbit,19</span>
<span id="cb256-5"><a></a>2013-11-06,deer,2</span>
<span id="cb256-6"><a></a>2013-11-06,fox,1</span>
<span id="cb256-7"><a></a>2013-11-07,rabbit,18</span>
<span id="cb256-8"><a></a>2013-11-07,bear,1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Command to extract unique species (second field, separated by commas):</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb257-1"><a></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Write a shell script called <code>species.sh</code> that takes <strong>any number of filenames</strong> as arguments and prints the unique species in each file (one file per section).</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-list-unique-species" class="slide level2">
<h2>Solution: List Unique Species</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>Create <code>species.sh</code>:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb258-1"><a></a><span class="co"># Script to find unique species in csv files </span></span>
<span id="cb258-2"><a></a><span class="co"># where species is the second data field</span></span>
<span id="cb258-3"><a></a><span class="co"># This script accepts any number of file names as command line arguments</span></span>
<span id="cb258-4"><a></a></span>
<span id="cb258-5"><a></a><span class="co"># Loop over all files</span></span>
<span id="cb258-6"><a></a><span class="cf">for</span> file <span class="kw">in</span> <span class="va">$@</span></span>
<span id="cb258-7"><a></a><span class="cf">do</span></span>
<span id="cb258-8"><a></a>    <span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 2 <span class="va">$file</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span>
<span id="cb258-9"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb259-1"><a></a><span class="fu">bash</span> species.sh animals.csv other-animals.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="the-shebang-binbash" class="slide level2">
<h2>The Shebang: #!/bin/bash</h2>
<p>Most scripts start with a <strong>shebang</strong> line:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb260-1"><a></a><span class="co">#!/bin/bash</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This tells the system: <strong>Use bash to run this script</strong></p>
<p>Then you can run the script directly:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb261-1"><a></a><span class="ex">./middle.sh</span> octane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Instead of always typing:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb262-1"><a></a><span class="fu">bash</span> middle.sh octane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="making-scripts-executable" class="slide level2">
<h2>Making Scripts Executable</h2>
<p>Add shebang as first line:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb263-1"><a></a><span class="co">#!/bin/bash</span></span>
<span id="cb263-2"><a></a><span class="co"># Select lines from middle of file</span></span>
<span id="cb263-3"><a></a><span class="fu">head</span> <span class="at">-n</span> <span class="st">"</span><span class="va">$2</span><span class="st">"</span> <span class="st">"</span><span class="va">$1</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> <span class="st">"</span><span class="va">$3</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then make it executable:</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb264-1"><a></a><span class="fu">chmod</span> u+x middle.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now run it directly:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb265-1"><a></a><span class="ex">./middle.sh</span> pentane.pdb 15 5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Congratulations! You‚Äôve created a true <strong>executable program</strong>!</p>
</section>
<section id="saving-command-history" class="slide level2">
<h2>Saving Command History</h2>
<p>You‚Äôve run useful commands ‚Äî save them for later!</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb266-1"><a></a><span class="bu">history</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> redo-figure-3.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The file <code>redo-figure-3.sh</code> now contains:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb267-1"><a></a>297 bash goostats.sh NENE01729B.txt stats-NENE01729B.txt</span>
<span id="cb267-2"><a></a>298 bash goodiff.sh stats-NENE01729B.txt /data/validated/01729.txt &gt; 01729-differences.txt</span>
<span id="cb267-3"><a></a>299 cut -d ',' -f 2-3 01729-differences.txt &gt; 01729-time-series.txt</span>
<span id="cb267-4"><a></a>300 ygraph --format scatter --color bw --borders none 01729-time-series.txt figure-3.png</span>
<span id="cb267-5"><a></a>301 history | tail -n 5 &gt; redo-figure-3.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Edit to remove line numbers and the <code>history</code> command itself.</p>
<p>Result: <strong>Perfect reproduction record!</strong></p>
</section>
<section id="challenge-why-record-commands-in-the-history-before-running-them" class="slide level2">
<h2>Challenge: Why Record Commands in the History Before Running Them?</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>If you run the command:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb268-1"><a></a><span class="bu">history</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> recent.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>the last command in the file is the <code>history</code> command itself, i.e., the shell has added <code>history</code> to the command log before actually running it.</p>
<p>In fact, the shell <em>always</em> adds commands to the log before running them.</p>
<p><strong>Why do you think it does this?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-why-record-commands-in-the-history-before-running-them" class="slide level2">
<h2>Solution: Why Record Commands in the History Before Running Them?</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>If a command causes something to crash or hang, it might be useful to know what that command was, in order to investigate the problem.</p>
<p>Were the command only be recorded after running it, we would not have a record of the last command run in the event of a crash.</p>
</div>
</div>
</div>
</div>
</section>
<section id="developing-shell-scripts" class="slide level2">
<h2>Developing Shell Scripts</h2>
<p>In practice, most people develop shell scripts by running commands at the shell prompt a few times to make sure they‚Äôre doing the right thing, then saving them in a file for re-use.</p>
<p>This style of work allows people to recycle what they discover about their data and their workflow with one call to <code>history</code> and a bit of editing to clean up the output and save it as a shell script.</p>
</section>
<section id="nelles-pipeline-creating-a-script" class="slide level2">
<h2>Nelle‚Äôs Pipeline: Creating a Script</h2>
<p>Nelle‚Äôs supervisor insisted that all her analytics must be reproducible.</p>
<p>The easiest way to capture all the steps is in a script.</p>
<p>First we return to Nelle‚Äôs project directory:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb269-1"><a></a><span class="bu">cd</span> ../../north-pacific-gyre/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="nelle-creates-do-stats.sh" class="slide level2">
<h2>Nelle Creates do-stats.sh</h2>
<p>She creates a file using <code>nano</code>:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb270-1"><a></a><span class="fu">nano</span> do-stats.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>‚Ä¶which contains the following:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb271-1"><a></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb271-2"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb271-3"><a></a><span class="cf">do</span></span>
<span id="cb271-4"><a></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb271-5"><a></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb271-6"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="running-nelles-script" class="slide level2">
<h2>Running Nelle‚Äôs Script</h2>
<p>She saves this in a file called <code>do-stats.sh</code> so that she can now re-do the first stage of her analysis by typing:</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb272-1"><a></a><span class="fu">bash</span> do-stats.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>She can also do this:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb273-1"><a></a><span class="fu">bash</span> do-stats.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>so that the output is just the number of files processed rather than the names of the files that were processed.</p>
</section>
<section id="script-design-tradeoffs" class="slide level2">
<h2>Script Design Tradeoffs</h2>
<p>One thing to note about Nelle‚Äôs script is that it lets the person running it decide what files to process.</p>
<p>She could have written it as:</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb274-1"><a></a><span class="co"># Calculate stats for Site A and Site B data files.</span></span>
<span id="cb274-2"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb274-3"><a></a><span class="cf">do</span></span>
<span id="cb274-4"><a></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb274-5"><a></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb274-6"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="hardcoded-vs.-flexible-scripts" class="slide level2">
<h2>Hardcoded vs.&nbsp;Flexible Scripts</h2>
<p><strong>Advantage</strong>: This always selects the right files ‚Äî she doesn‚Äôt have to remember to exclude the ‚ÄòZ‚Äô files.</p>
<p><strong>Disadvantage</strong>: It <em>always</em> selects just those files ‚Äî she can‚Äôt run it on all files (including the ‚ÄòZ‚Äô files), or on the ‚ÄòG‚Äô or ‚ÄòH‚Äô files her colleagues in Antarctica are producing, without editing the script.</p>
<p>If she wanted to be more adventurous, she could modify her script to check for command-line arguments, and use <code>NENE*A.txt NENE*B.txt</code> if none were provided.</p>
<p>Of course, this introduces another tradeoff between flexibility and complexity.</p>
</section>
<section id="challenge-variables-in-shell-scripts" class="slide level2">
<h2>Challenge: Variables in Shell Scripts</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>In the <code>alkanes</code> directory, imagine you have a shell script called <code>script.sh</code> containing the following commands:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb275-1"><a></a><span class="fu">head</span> <span class="at">-n</span> <span class="va">$2</span> <span class="va">$1</span></span>
<span id="cb275-2"><a></a><span class="fu">tail</span> <span class="at">-n</span> <span class="va">$3</span> <span class="va">$1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>While you are in the <code>alkanes</code> directory, you type the following command:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb276-1"><a></a><span class="fu">bash</span> script.sh <span class="st">'*.pdb'</span> 1 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Which of the following outputs would you expect to see?</p>
<ol type="1">
<li>All of the lines between the first and the last lines of each file ending in <code>.pdb</code> in the <code>alkanes</code> directory</li>
<li>The first and the last line of each file ending in <code>.pdb</code> in the <code>alkanes</code> directory</li>
<li>The first and the last line of each file in the <code>alkanes</code> directory</li>
<li>An error because of the quotes around <code>*.pdb</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-variables-in-shell-scripts" class="slide level2">
<h2>Solution: Variables in Shell Scripts</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>The correct answer is 2.</strong></p>
<p>The special variables <code>$1</code>, <code>$2</code> and <code>$3</code> represent the command line arguments given to the script, such that the commands run are:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb277-1"><a></a><span class="fu">head</span> <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span>
<span id="cb277-2"><a></a><span class="fu">tail</span> <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The shell does not expand <code>'*.pdb'</code> because it is enclosed by quote marks.</p>
<p>As such, the first argument to the script is <code>'*.pdb'</code> which gets expanded within the script by <code>head</code> and <code>tail</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-find-the-longest-file-with-a-given-extension" class="slide level2">
<h2>Challenge: Find the Longest File With a Given Extension</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Write a shell script called <code>longest.sh</code> that takes the name of a directory and a filename extension as its arguments, and prints out the name of the file with the most lines in that directory with that extension.</p>
<p>For example:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb278-1"><a></a><span class="fu">bash</span> longest.sh shell-lesson-data/exercise-data/alkanes pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>would print the name of the <code>.pdb</code> file in <code>shell-lesson-data/exercise-data/alkanes</code> that has the most lines.</p>
<p>Feel free to test your script on another directory e.g.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb279-1"><a></a><span class="fu">bash</span> longest.sh shell-lesson-data/exercise-data/writing txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-find-the-longest-file-with-a-given-extension" class="slide level2">
<h2>Solution: Find the Longest File With a Given Extension</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb280"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb280-1"><a></a><span class="co"># Shell script which takes two arguments:</span></span>
<span id="cb280-2"><a></a><span class="co">#    1. a directory name</span></span>
<span id="cb280-3"><a></a><span class="co">#    2. a file extension</span></span>
<span id="cb280-4"><a></a><span class="co"># and prints the name of the file in that directory</span></span>
<span id="cb280-5"><a></a><span class="co"># with the most lines which matches the file extension.</span></span>
<span id="cb280-6"><a></a></span>
<span id="cb280-7"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$1</span>/<span class="pp">*</span>.<span class="va">$2</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 2 <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Explanation:</strong></p>
<p>The first part of the pipeline, <code>wc -l $1/*.$2 | sort -n</code>, counts the lines in each file and sorts them numerically (largest last).</p>
<p>When there‚Äôs more than one file, <code>wc</code> also outputs a final summary line, giving the total number of lines across <em>all</em> files.</p>
<p>We use <code>tail -n 2 | head -n 1</code> to throw away this last line.</p>
<p>With <code>wc -l $1/*.$2 | sort -n | tail -n 1</code> we‚Äôll see the final summary line: we can build our pipeline up in pieces to be sure we understand the output.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-script-reading-comprehension" class="slide level2">
<h2>Challenge: Script Reading Comprehension</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>For this question, consider the <code>shell-lesson-data/exercise-data/alkanes</code> directory once again. This contains a number of <code>.pdb</code> files in addition to any other files you may have created.</p>
<p>Explain what each of the following three scripts would do when run as <code>bash script1.sh *.pdb</code>, <code>bash script2.sh *.pdb</code>, and <code>bash script3.sh *.pdb</code> respectively.</p>
<p><strong>Script 1:</strong></p>
<div class="sourceCode" id="cb281"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb281-1"><a></a><span class="bu">echo</span> <span class="pp">*</span>.<span class="pp">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Script 2:</strong></p>
<div class="sourceCode" id="cb282"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb282-1"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="va">$1</span> <span class="va">$2</span> <span class="va">$3</span></span>
<span id="cb282-2"><a></a><span class="cf">do</span></span>
<span id="cb282-3"><a></a>    <span class="fu">cat</span> <span class="va">$filename</span></span>
<span id="cb282-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Script 3:</strong></p>
<div class="sourceCode" id="cb283"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb283-1"><a></a><span class="bu">echo</span> <span class="va">$@</span>.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-script-reading-comprehension" class="slide level2">
<h2>Solution: Script Reading Comprehension</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solutions</strong></p>
</div>
<div class="callout-content">
<p>In each case, the shell expands the wildcard in <code>*.pdb</code> before passing the resulting list of file names as arguments to the script.</p>
<p>Script 1 would print out a list of all files containing a dot in their name. The arguments passed to the script are not actually used anywhere in the script.</p>
<p>Script 2 would print the contents of the first 3 files with a <code>.pdb</code> file extension. <code>$1</code>, <code>$2</code>, and <code>$3</code> refer to the first, second, and third argument respectively.</p>
<p>Script 3 would print all the arguments to the script (i.e.&nbsp;all the <code>.pdb</code> files), followed by <code>.pdb</code>. <code>$@</code> refers to <em>all</em> the arguments given to a shell script.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb284-1"><a></a>cubane.pdb ethane.pdb methane.pdb octane.pdb pentane.pdb propane.pdb.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-debugging-scripts" class="slide level2">
<h2>Challenge: Debugging Scripts</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Suppose you have saved the following script in a file called <code>do-errors.sh</code> in Nelle‚Äôs <code>north-pacific-gyre</code> directory:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb285-1"><a></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb285-2"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb285-3"><a></a><span class="cf">do</span></span>
<span id="cb285-4"><a></a>    <span class="bu">echo</span> <span class="va">$datfile</span></span>
<span id="cb285-5"><a></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb285-6"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you run it from the <code>north-pacific-gyre</code> directory:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb286-1"><a></a><span class="fu">bash</span> do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>the output is blank. To figure out why, re-run the script using the <code>-x</code> option:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb287-1"><a></a><span class="fu">bash</span> <span class="at">-x</span> do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What is the output showing you? Which line is responsible for the error?</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-debugging-scripts" class="slide level2">
<h2>Solution: Debugging Scripts</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p>The <code>-x</code> option causes <code>bash</code> to run in debug mode. This prints out each command as it is run, which will help you to locate errors. In this example, we can see that <code>echo</code> isn‚Äôt printing anything. We have made a typo in the loop variable name, and the variable <code>datfile</code> doesn‚Äôt exist, hence returning an empty string.</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="episode-8-finding-things" class="title-slide slide level1 center">
<h1>Episode 8: Finding Things</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How can I find things in files?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Use <code>grep</code> to select lines from text files matching patterns</li>
<li>Explain ‚Äòglobal/regular expression/print‚Äô (grep origin)</li>
<li>Use <code>find</code> to find files and directories with pattern matching</li>
<li>Explain text vs binary files and why many tools don‚Äôt handle binary well</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="why-grep" class="slide level2">
<h2>Why ‚Äú<code>grep</code>‚Äù?</h2>
<p>‚Äúgrep‚Äù is a contraction of <strong>global/regular expression/print</strong>.</p>
<p>Common sequence in early Unix text editors.</p>
<p>Now a very useful command-line program.</p>
</section>
<section id="what-grep-does" class="slide level2">
<h2>What <code>grep</code> Does</h2>
<p><code>grep</code> <strong>finds and prints lines</strong> in files that match a pattern.</p>
<p>Works on any text file you can think of.</p>
</section>
<section id="sample-haiku-file" class="slide level2">
<h2>Sample Haiku File</h2>
<p>Three haikus from 1998 Salon magazine poetry competition:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb288-1"><a></a><span class="fu">cat</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb289"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb289-1"><a></a>The Tao that is seen</span>
<span id="cb289-2"><a></a>Is not the true Tao, until</span>
<span id="cb289-3"><a></a>You bring fresh toner.</span>
<span id="cb289-4"><a></a></span>
<span id="cb289-5"><a></a>With searching comes loss</span>
<span id="cb289-6"><a></a>and the presence of absence:</span>
<span id="cb289-7"><a></a>"My Thesis" not found.</span>
<span id="cb289-8"><a></a></span>
<span id="cb289-9"><a></a>Yesterday it worked</span>
<span id="cb289-10"><a></a>Today it is not working</span>
<span id="cb289-11"><a></a>Software is like that.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="finding-lines-with-not" class="slide level2">
<h2>Finding Lines with ‚Äúnot‚Äù</h2>
<div class="sourceCode" id="cb290"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb290-1"><a></a><span class="fu">grep</span> not haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb291"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb291-1"><a></a>Is not the true Tao, until</span>
<span id="cb291-2"><a></a>"My Thesis" not found</span>
<span id="cb291-3"><a></a>Today it is not working</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Pattern</strong>: <code>not</code></p>
<p><strong>Result</strong>: All lines containing the word ‚Äúnot‚Äù</p>
</section>
<section id="understanding-grep-syntax" class="slide level2">
<h2>Understanding <code>grep</code> Syntax</h2>
<div class="sourceCode" id="cb292"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb292-1"><a></a><span class="fu">grep</span> pattern filename</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>grep</code>: the command</li>
<li><code>pattern</code>: what to search for</li>
<li><code>filename</code>: which file to search in</li>
</ul>
<p>Searches line by line, outputs matching lines.</p>
</section>
<section id="grep-is-case-sensitive" class="slide level2">
<h2><code>grep</code> is Case-Sensitive</h2>
<p>Search for ‚ÄúThe‚Äù:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb293-1"><a></a><span class="fu">grep</span> The haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb294"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb294-1"><a></a>The Tao that is seen</span>
<span id="cb294-2"><a></a>"My Thesis" not found.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Matched ‚ÄúThe‚Äù at start AND ‚ÄúThe‚Äù inside ‚ÄúThesis‚Äù.</p>
<p>Didn‚Äôt match lowercase ‚Äúthe‚Äù.</p>
</section>
<section id="case-matters" class="slide level2">
<h2>Case Matters</h2>
<p>By default: <strong>case-sensitive</strong></p>
<ul>
<li>‚ÄúThe‚Äù ‚â† ‚Äúthe‚Äù ‚â† ‚ÄúTHE‚Äù</li>
<li>Search pattern must match exactly</li>
</ul>
</section>
<section id="searching-phrases" class="slide level2">
<h2>Searching Phrases</h2>
<p>Searching for multiple words? Use quotes:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb295-1"><a></a><span class="fu">grep</span> <span class="at">-w</span> <span class="st">"is not"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb296"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb296-1"><a></a>Today it is not working</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Quotes distinguish search term from filename.</p>
<p>Important when phrase contains spaces.</p>
</section>
<section id="option--w-word-boundaries" class="slide level2">
<h2>Option: -w (Word Boundaries)</h2>
<p><strong>Match whole words only</strong></p>
<p>Without <code>-w</code>:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb297-1"><a></a><span class="fu">grep</span> The haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Matches ‚ÄúThe‚Äù in ‚ÄúThe Tao‚Äù AND ‚Äúthe‚Äù in ‚ÄúThesis‚Äù.</p>
<p>With <code>-w</code>:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb298-1"><a></a><span class="fu">grep</span> <span class="at">-w</span> The haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb299"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb299-1"><a></a>The Tao that is seen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Only ‚ÄúThe‚Äù as complete word (not part of ‚ÄúThesis‚Äù).</p>
</section>
<section id="option--i-ignore-case" class="slide level2">
<h2>Option: -i (Ignore Case)</h2>
<p><strong>Case-insensitive search:</strong></p>
<div class="sourceCode" id="cb300"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb300-1"><a></a><span class="fu">grep</span> <span class="at">-i</span> the haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Matches ‚ÄúThe‚Äù, ‚Äúthe‚Äù, ‚ÄúTHE‚Äù, etc.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb301-1"><a></a>The Tao that is seen</span>
<span id="cb301-2"><a></a>Is not the true Tao, until</span>
<span id="cb301-3"><a></a>and the presence of absence:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="option--n-line-numbers" class="slide level2">
<h2>Option: -n (Line Numbers)</h2>
<p><strong>Show line numbers with matches:</strong></p>
<div class="sourceCode" id="cb302"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb302-1"><a></a><span class="fu">grep</span> <span class="at">-n</span> <span class="st">"it"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb303"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb303-1"><a></a>5:With searching comes loss</span>
<span id="cb303-2"><a></a>9:Yesterday it worked</span>
<span id="cb303-3"><a></a>10:Today it is not working</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lines 5, 9, 10 contain ‚Äúit‚Äù.</p>
</section>
<section id="combining-options" class="slide level2">
<h2>Combining Options</h2>
<p><strong>Use multiple flags together:</strong></p>
<div class="sourceCode" id="cb304"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb304-1"><a></a><span class="fu">grep</span> <span class="at">-n</span> <span class="at">-w</span> <span class="st">"the"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb305"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb305-1"><a></a>2:Is not the true Tao, until</span>
<span id="cb305-2"><a></a>6:and the presence of absence:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Or shorter form</strong>: <code>grep -nw "the" haiku.txt</code></p>
</section>
<section id="more-option-combinations" class="slide level2">
<h2>More Option Combinations</h2>
<p>Find whole word ‚Äúthe‚Äù case-insensitive:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb306-1"><a></a><span class="fu">grep</span> <span class="at">-n</span> <span class="at">-w</span> <span class="at">-i</span> <span class="st">"the"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb307"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb307-1"><a></a>1:The Tao that is seen</span>
<span id="cb307-2"><a></a>2:Is not the true Tao, until</span>
<span id="cb307-3"><a></a>6:and the presence of absence:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="option--v-invert-match" class="slide level2">
<h2>Option: -v (Invert Match)</h2>
<p><strong>Show lines that DON‚ÄôT match:</strong></p>
<div class="sourceCode" id="cb308"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb308-1"><a></a><span class="fu">grep</span> <span class="at">-n</span> <span class="at">-w</span> <span class="at">-v</span> <span class="st">"the"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb309"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb309-1"><a></a>1:The Tao that is seen</span>
<span id="cb309-2"><a></a>3:You bring fresh toner.</span>
<span id="cb309-3"><a></a>4:</span>
<span id="cb309-4"><a></a>5:With searching comes loss</span>
<span id="cb309-5"><a></a>7:"My Thesis" not found.</span>
<span id="cb309-6"><a></a>8:</span>
<span id="cb309-7"><a></a>9:Yesterday it worked</span>
<span id="cb309-8"><a></a>10:Today it is not working</span>
<span id="cb309-9"><a></a>11:Software is like that.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>All lines without the word ‚Äúthe‚Äù.</p>
</section>
<section id="option--r-recursive" class="slide level2">
<h2>Option: -r (Recursive)</h2>
<p><strong>Search through subdirectories:</strong></p>
<div class="sourceCode" id="cb310"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb310-1"><a></a><span class="fu">grep</span> <span class="at">-r</span> Yesterday .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb311"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb311-1"><a></a>./LittleWomen.txt:"Yesterday, when Aunt was asleep and I was trying to be as still as a</span>
<span id="cb311-2"><a></a>./LittleWomen.txt:Yesterday at dinner, when an Austrian officer stared at us and then</span>
<span id="cb311-3"><a></a>./LittleWomen.txt:Yesterday was a quiet day spent in teaching, sewing, and writing in my</span>
<span id="cb311-4"><a></a>./haiku.txt:Yesterday it worked</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Searches all files under current directory.</p>
</section>
<section id="getting-help-with-grep" class="slide level2">
<h2>Getting Help with <code>grep</code></h2>
<p><strong>See all options:</strong></p>
<div class="sourceCode" id="cb312"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb312-1"><a></a><span class="fu">grep</span> <span class="at">--help</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Shows usage, all flags, and examples.</p>
<p>Also: <code>man grep</code> for full documentation.</p>
</section>
<section id="wildcards-and-regular-expressions" class="slide level2">
<h2>Wildcards and Regular Expressions</h2>
<p><strong>Simple patterns vs complex patterns</strong></p>
<p>Search pattern can include <strong>wildcards</strong>: - <code>^</code> = start of line - <code>$</code> = end of line - <code>.</code> = any single character - <code>*</code> = previous character zero or more times</p>
<p>Technical name: <strong>regular expressions</strong> (regex)</p>
</section>
<section id="regex-start-of-line" class="slide level2">
<h2>Regex: Start of Line (^)</h2>
<p>Find lines starting with specific text:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb313-1"><a></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">"^.o"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb314"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb314-1"><a></a>You bring fresh toner.</span>
<span id="cb314-2"><a></a>Today it is not working</span>
<span id="cb314-3"><a></a>Software is like that.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>^</code> = start of line</li>
<li><code>.</code> = any one character</li>
<li><code>o</code> = literal letter o</li>
</ul>
<p>So: any line with ‚Äòo‚Äô in second position.</p>
</section>
<section id="option--e-extended-regex" class="slide level2">
<h2>Option: -E (Extended Regex)</h2>
<p><strong>Use more powerful pattern syntax:</strong></p>
<div class="sourceCode" id="cb315"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb315-1"><a></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">"^The"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lines starting with ‚ÄúThe‚Äù.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb316-1"><a></a><span class="fu">grep</span> <span class="at">-E</span> <span class="st">".aw|.ew"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lines containing ‚Äúaw‚Äù or ‚Äúew‚Äù.</p>
</section>
<section id="text-vs-binary-files" class="slide level2">
<h2>Text vs Binary Files</h2>
<p><strong>Text files</strong>: human-readable - <code>.txt</code>, <code>.csv</code>, <code>.py</code>, <code>.json</code>, <code>.sh</code></p>
<p><strong>Binary files</strong>: encoded/compiled - <code>.pdf</code>, <code>.jpg</code>, <code>.png</code>, <code>.exe</code>, <code>.so</code></p>
<p><strong><code>grep</code> works on text, not binary!</strong></p>
</section>
<section id="using-grep-on-binary" class="slide level2">
<h2>Using <code>grep</code> on Binary</h2>
<p>Binary files cause issues:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb317-1"><a></a><span class="fu">grep</span> pattern document.pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>May show garbage or ‚Äúbinary file matches‚Äù.</p>
<p>Use <code>-a</code> flag to search anyway:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb318-1"><a></a><span class="fu">grep</span> <span class="at">-a</span> pattern document.pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Results usually useless (binary format gibberish).</p>
</section>
<section id="option--c-count-matches" class="slide level2">
<h2>Option: -c (Count Matches)</h2>
<p><strong>Count matching lines instead of showing them:</strong></p>
<div class="sourceCode" id="cb319"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb319-1"><a></a><span class="fu">grep</span> <span class="at">-c</span> <span class="st">"not"</span> haiku.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb320"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb320-1"><a></a>3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Three lines contain ‚Äúnot‚Äù.</p>
</section>
<section id="finding-files-with-find" class="slide level2">
<h2>Finding Files with <code>find</code></h2>
<p><strong>Two types of searching:</strong> 1. Find <strong>text</strong> in files ‚Üí use <code>grep</code> 2. Find <strong>files themselves</strong> ‚Üí use <code>find</code></p>
<p><code>find</code> searches by: name, type, size, date, permissions.</p>
</section>
<section id="find-basic-syntax" class="slide level2">
<h2><code>find</code> Basic Syntax</h2>
<div class="sourceCode" id="cb321"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb321-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-name</span> <span class="st">"*.txt"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>.</code> = start from current directory</li>
<li><code>-type f</code> = search for regular files</li>
<li><code>-name "*.txt"</code> = matching this pattern</li>
</ul>
<p>Shows all <code>.txt</code> files under current directory.</p>
</section>
<section id="option--type" class="slide level2">
<h2>Option: -type</h2>
<p><strong>Search by file type:</strong></p>
<div class="sourceCode" id="cb322"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb322-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f        <span class="co"># Regular files</span></span>
<span id="cb322-2"><a></a><span class="fu">find</span> . <span class="at">-type</span> d        <span class="co"># Directories</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Most common types: <code>f</code> (file) and <code>d</code> (directory).</p>
</section>
<section id="option--name" class="slide level2">
<h2>Option: -name</h2>
<p><strong>Search by filename pattern:</strong></p>
<div class="sourceCode" id="cb323"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb323-1"><a></a><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.pdb"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>All <code>.pdb</code> files anywhere under current directory.</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb324-1"><a></a><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"haiku*"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>All files starting with ‚Äúhaiku‚Äù.</p>
</section>
<section id="option--size" class="slide level2">
<h2>Option: -size</h2>
<p><strong>Search by file size:</strong></p>
<div class="sourceCode" id="cb325"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb325-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-size</span> +1M</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Files <strong>larger than</strong> 1 megabyte.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb326-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-size</span> <span class="at">-100k</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Files <strong>smaller than</strong> 100 kilobytes.</p>
<p>Units: <code>k</code> (kilobyte), <code>M</code> (megabyte), <code>G</code> (gigabyte).</p>
<p><code>+</code> means ‚Äúlarger than‚Äù, <code>-</code> means ‚Äúsmaller than‚Äù.</p>
</section>
<section id="option--mtime" class="slide level2">
<h2>Option: -mtime</h2>
<p><strong>Search by modification date:</strong></p>
<div class="sourceCode" id="cb327"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb327-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-mtime</span> <span class="at">-7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Modified in <strong>last 7 days</strong>.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb328-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-mtime</span> <span class="at">-1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Modified <strong>last 24 hours</strong>.</p>
<p><code>-</code> means ‚Äúless than‚Äù (more recent).</p>
</section>
<section id="option--perm-permissions" class="slide level2">
<h2>Option: -perm (Permissions)</h2>
<p><strong>Find by file permissions:</strong></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb329-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-perm</span> <span class="at">-u</span><span class="op">=</span>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Regular files owner can execute.</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb330-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-perm</span> <span class="at">-g</span><span class="op">=</span>w</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Files where group has write permission.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb331-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-perm</span> <span class="at">-o</span><span class="op">=</span>r</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Files where others can read.</p>
<p><code>-</code> before permission means ‚Äúbits are set‚Äù.</p>
</section>
<section id="combining-find-options" class="slide level2">
<h2>Combining <code>find</code> Options</h2>
<p><strong>Filter by multiple criteria:</strong></p>
<div class="sourceCode" id="cb332"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb332-1"><a></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-name</span> <span class="st">"*.log"</span> <span class="at">-mtime</span> <span class="at">-3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>All <code>.log</code> files modified in last 3 days.</p>
<p>Options work together (AND logic).</p>
</section>
<section id="using-find-output-with-other-commands" class="slide level2">
<h2>Using <code>find</code> Output with Other Commands</h2>
<p><strong>Problem</strong>: Found files, now what?</p>
<p><strong>Solution</strong>: <code>-exec</code> to run command on each</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb333-1"><a></a><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.pdb"</span> <span class="at">-exec</span> grep <span class="at">-l</span> <span class="st">"ATOM"</span> {} <span class="dt">\;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>{}</code> = the found file (placeholder)</li>
<li><code>\;</code> = end of exec command</li>
<li><code>grep -l</code> = show filename only if match found</li>
</ul>
</section>
<section id="command-substitution" class="slide level2">
<h2>Command Substitution: $()</h2>
<p><strong>Use output of one command as input to another:</strong></p>
<div class="sourceCode" id="cb334"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb334-1"><a></a><span class="bu">echo</span> <span class="st">"Files found: </span><span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.txt"</span><span class="va">)</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>Files found: haiku.txt notes.txt</code></pre>
<p>Replace <code>$()</code> with command‚Äôs output.</p>
</section>
<section id="practical-example" class="slide level2">
<h2>Practical Example</h2>
<p>Count all ‚ÄúATOM‚Äù lines in all PDB files:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb336-1"><a></a><span class="fu">grep</span> <span class="at">-c</span> <span class="st">"^ATOM"</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.pdb"</span><span class="va">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lists count for each file:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb337-1"><a></a>file1.pdb:1523</span>
<span id="cb337-2"><a></a>file2.pdb:2104</span>
<span id="cb337-3"><a></a>file3.pdb:1876</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="challenge-using-grep" class="slide level2">
<h2>Challenge: Using <code>grep</code></h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Which command results in this output?</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb338-1"><a></a>and the presence of absence:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><code>grep "of" haiku.txt</code></li>
<li><code>grep -E "of" haiku.txt</code></li>
<li><code>grep -w "of" haiku.txt</code></li>
<li><code>grep -i "of" haiku.txt</code></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="solution-using-grep" class="slide level2">
<h2>Solution: Using <code>grep</code></h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Answer: 3</strong> (<code>grep -w "of" haiku.txt</code>)</p>
<p><code>-w</code> flag searches for <strong>whole words only</strong>.</p>
<p>Options 1, 2, 4 match ‚Äúof‚Äù inside other words (like ‚Äúof‚Äù in ‚Äúpresence of absence‚Äù, ‚Äúperfect‚Äù, etc.).</p>
<p>Only <code>-w</code> ensures ‚Äúof‚Äù stands alone.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-tracking-a-species" class="slide level2">
<h2>Challenge: Tracking a Species</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Leah has hundreds of data files on species sightings:</p>
<pre><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-06,fox,4
2012-11-07,rabbit,16
2012-11-07,bear,1</code></pre>
<p>She wants a script taking: - Species name (argument 1) - Directory (argument 2)</p>
<p>Output: File <code>&lt;species&gt;.txt</code> with dates and counts:</p>
<pre><code>2012-11-05,22
2012-11-06,19
2012-11-07,16</code></pre>
<p><strong>Arrange these in correct order:</strong></p>
<div class="sourceCode" id="cb341"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb341-1"><a></a><span class="fu">cut</span> <span class="at">-d</span> : <span class="at">-f</span> 2</span>
<span id="cb341-2"><a></a><span class="op">&gt;</span></span>
<span id="cb341-3"><a></a><span class="kw">|</span></span>
<span id="cb341-4"><a></a><span class="fu">grep</span> <span class="at">-w</span> <span class="va">$1</span> <span class="at">-r</span> <span class="va">$2</span></span>
<span id="cb341-5"><a></a><span class="kw">|</span></span>
<span id="cb341-6"><a></a><span class="va">$1</span><span class="ex">.txt</span></span>
<span id="cb341-7"><a></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 1,3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hint: Use <code>man grep</code> for recursive search, <code>man cut</code> for multiple fields.</p>
<p>Example: <code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-tracking-a-species" class="slide level2">
<h2>Solution: Tracking a Species</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb342"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb342-1"><a></a><span class="fu">grep</span> <span class="at">-w</span> <span class="va">$1</span> <span class="at">-r</span> <span class="va">$2</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> : <span class="at">-f</span> 2 <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 1,3 <span class="op">&gt;</span> <span class="va">$1</span>.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>How it works:</strong></p>
<ol type="1">
<li><code>grep -w $1 -r $2</code> = find species name in all files under directory</li>
<li><code>cut -d : -f 2</code> = extract filename and data (remove grep‚Äôs first field)</li>
<li><code>cut -d , -f 1,3</code> = extract date (field 1) and count (field 3)</li>
<li><code>&gt; $1.txt</code> = save to output file</li>
</ol>
<p><strong>Two <code>cut</code> commands can be swapped</strong> - same result!</p>
<p><strong>Usage example:</strong></p>
<div class="sourceCode" id="cb343"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb343-1"><a></a><span class="fu">bash</span> count-species.sh bear .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This creates file <code>bear.txt</code> with all bear sightings.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-little-women" class="slide level2">
<h2>Challenge: Little Women</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>You‚Äôve finished reading <em>Little Women</em> by Louisa May Alcott.</p>
<p>Argument with friend: Which sister mentioned most? - Jo, Meg, Beth, or Amy?</p>
<p>File available: <code>shell-lesson-data/exercise-data/writing/LittleWomen.txt</code></p>
<p><strong>Using a <code>for</code> loop, tabulate mentions of each sister.</strong></p>
<p>Hint: Combine <code>grep</code> and <code>wc</code> with <code>|</code>, or use <code>grep</code> options.</p>
<p>Multiple solutions exist - choose for correctness, elegance, readability, and speed.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-little-women" class="slide level2">
<h2>Solution: Little Women</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Solution 1: Using pipe with wc</strong></p>
<div class="sourceCode" id="cb344"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb344-1"><a></a><span class="cf">for</span> sis <span class="kw">in</span> Jo Meg Beth Amy</span>
<span id="cb344-2"><a></a><span class="cf">do</span></span>
<span id="cb344-3"><a></a>    <span class="fu">grep</span> <span class="at">-ow</span> <span class="va">$sis</span> LittleWomen.txt <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span>
<span id="cb344-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output shows count for each sister.</p>
<p><strong>Solution 2: Using <code>grep -c</code> option</strong></p>
<div class="sourceCode" id="cb345"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb345-1"><a></a><span class="cf">for</span> sis <span class="kw">in</span> Jo Meg Beth Amy</span>
<span id="cb345-2"><a></a><span class="cf">do</span></span>
<span id="cb345-3"><a></a>    <span class="fu">grep</span> <span class="at">-ocw</span> <span class="va">$sis</span> LittleWomen.txt</span>
<span id="cb345-4"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Flags explained:</strong> - <code>-o</code> = show matches only - <code>-c</code> = count them - <code>-w</code> = whole words only</p>
<p>Both count sister mentions correctly!</p>
</div>
</div>
</div>
</div>
</section>
<section id="listing-vs.-finding" class="slide level2">
<h2>Listing vs.&nbsp;Finding</h2>
<p><code>ls</code> and <code>find</code> can be made to do similar things given the right options, but under normal circumstances:</p>
<ul>
<li><code>ls</code> <strong>lists</strong> everything it can</li>
<li><code>find</code> <strong>searches</strong> for things with certain properties and shows them</li>
</ul>
</section>
<section id="challenge-matching-and-subtracting" class="slide level2">
<h2>Challenge: Matching and Subtracting</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>The <code>-v</code> option to <code>grep</code> inverts pattern matching, so that only lines which do <strong>not</strong> match the pattern are printed.</p>
<p>Given that, which of the following commands will find all <code>.dat</code> files in <code>creatures</code> except <code>unicorn.dat</code>?</p>
<ol type="1">
<li><code>find creatures -name "*.dat" | grep -v unicorn</code></li>
<li><code>find creatures -name *.dat | grep -v unicorn</code></li>
<li><code>grep -v "unicorn" $(find creatures -name "*.dat")</code></li>
<li>None of the above</li>
</ol>
<p>Once you have thought about your answer, you can test the commands in the <code>shell-lesson-data/exercise-data</code> directory.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-matching-and-subtracting" class="slide level2">
<h2>Solution: Matching and Subtracting</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>Option 1 is correct</strong>: <code>find creatures -name "*.dat" | grep -v unicorn</code></p>
<p>Putting the match expression in quotes prevents the shell expanding it, so it gets passed to the <code>find</code> command.</p>
<p>Option 2 also works in this instance because the shell tries to expand <code>*.dat</code> but there are no <code>*.dat</code> files in the current directory, so the wildcard expression gets passed to <code>find</code>.</p>
<p>Option 3 is incorrect because it searches the <strong>contents</strong> of the files for lines which do not match ‚Äòunicorn‚Äô, rather than searching the <strong>file names</strong>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="challenge-find-pipeline-reading-comprehension" class="slide level2">
<h2>Challenge: find Pipeline Reading Comprehension</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Write a short explanatory comment for the following shell script:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb346-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.dat"</span><span class="va">)</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="solution-find-pipeline-reading-comprehension" class="slide level2">
<h2>Solution: find Pipeline Reading Comprehension</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>Find all files with a <code>.dat</code> extension recursively from the current directory</li>
<li>Count the number of lines each of these files contains</li>
<li>Sort the output from step 2. numerically</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="binary-files" class="slide level2">
<h2>Binary Files</h2>
<p>We have focused exclusively on finding patterns in text files. What if your data is stored as images, in databases, or in some other format?</p>
<p>A handful of tools extend <code>grep</code> to handle a few non-text formats. But a more generalizable approach is to convert the data to text or extract the text-like elements from the data.</p>
<p>On one hand, it makes simple things easy to do. On the other hand, complex things are usually impossible. For example: - <strong>Easy</strong>: Write a program that extracts X and Y dimensions from image files for <code>grep</code> to use - <strong>Hard</strong>: Find values in a spreadsheet whose cells contained formulas</p>
<p>A last option: recognize that the shell and text processing have their limits, and use another programming language.</p>
<p>Many modern programming languages have borrowed ideas from the shell, and imitation is the sincerest form of praise.</p>
</section></section>
<section>
<section id="episode-9-awk-for-text-processing" class="title-slide slide level1 center">
<h1>Episode 9: AWK for Text Processing</h1>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Questions</strong></p>
</div>
<div class="callout-content">
<ul>
<li>How do I print specific columns from a text table?</li>
<li>How can I use patterns to select only certain lines in a file?</li>
<li>How do I count lines or matched lines in a file?</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Objectives</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Select and print fields with <code>$0</code>, <code>$1</code>, <code>$2</code>, <code>$NF</code>, and <code>NF</code></li>
<li>Use field separator (<code>-F</code>) to handle CSV input</li>
<li>Match lines using regex like <code>/^ATOM/</code></li>
<li>Count lines with counter and <code>END</code> block</li>
<li>Explain difference between <code>wc -l</code> and <code>awk 'END {print NR}'</code></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="counting-lines-the-problem" class="slide level2">
<h2>Counting Lines: The Problem</h2>
<p><strong>Using <code>wc -l</code>:</strong></p>
<div class="sourceCode" id="cb347"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb347-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>The issue</strong>: <code>wc</code> counts newlines only.</p>
<p>If last line has <strong>no carriage return</strong>, result is <strong>off by one</strong>.</p>
</section>
<section id="awk-a-better-solution" class="slide level2">
<h2><code>awk</code>: A Better Solution</h2>
<p><strong>AWK</strong> = command-line program for text processing.</p>
<ul>
<li>Takes instructions and one or more files</li>
<li>Executes on each line</li>
<li>Instructions in single quotes or from file</li>
</ul>
</section>
<section id="basic-awk-syntax" class="slide level2">
<h2>Basic <code>awk</code> Syntax</h2>
<div class="sourceCode" id="cb348"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb348-1"><a></a><span class="fu">awk</span> <span class="st">'{print $0}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Same output as <code>cat example.txt</code>.</p>
<p>Structure: - <code>{}</code> surrounds instructions - <code>print</code> sends output to terminal - <code>$0</code> = <strong>entire current line</strong> (variable)</p>
</section>
<section id="how-awk-works" class="slide level2">
<h2>How <code>awk</code> Works</h2>
<p>AWK <strong>automatically splits</strong> each line by spaces.</p>
<p>Columns stored in variables: - <code>$1</code> = first column - <code>$2</code> = second column - <code>$3</code> = third column - And so on‚Ä¶</p>
</section>
<section id="printing-entire-line" class="slide level2">
<h2>Printing Entire Line</h2>
<div class="sourceCode" id="cb349"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb349-1"><a></a><span class="fu">awk</span> <span class="st">'{print $0}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>$0</code> means ‚Äúthe whole line‚Äù.</p>
<p>Same as <code>cat</code> but using AWK!</p>
</section>
<section id="printing-specific-columns" class="slide level2">
<h2>Printing Specific Columns</h2>
<p>Print only second column:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb350-1"><a></a><span class="fu">awk</span> <span class="st">'{print $2}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Print multiple columns (second and fourth):</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb351-1"><a></a><span class="fu">awk</span> <span class="st">'{print $2, $4}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Commas add spaces</strong> between output values.</p>
</section>
<section id="adding-text-to-output" class="slide level2">
<h2>Adding Text to Output</h2>
<p>Print with custom text:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb352-1"><a></a><span class="fu">awk</span> <span class="st">'{print "chr", $2, $4}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb353"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb353-1"><a></a>chr value2 value4</span>
<span id="cb353-2"><a></a>chr value2 value4</span>
<span id="cb353-3"><a></a>chr value2 value4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Text must be in quotes</strong>.</p>
</section>
<section id="the-nf-variable" class="slide level2">
<h2>The NF Variable</h2>
<p><strong>NF</strong> = Number of Fields (columns)</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb354-1"><a></a><span class="fu">awk</span> <span class="st">'{print NF}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Shows how many columns in each row.</p>
<p>Useful when files have <strong>variable column counts</strong>.</p>
</section>
<section id="example-lines-with-different-columns" class="slide level2">
<h2>Example: Lines with Different Columns</h2>
<p>Some lines have 6 fields, others have 7:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb355-1"><a></a><span class="fu">awk</span> <span class="st">'{print "This line has", NF, "columns. The last one contains", $NF}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>NF</code> gives column count for <strong>current line</strong>.</p>
</section>
<section id="the-last-column-nf" class="slide level2">
<h2>The Last Column: <code>$NF</code></h2>
<p>Print the <strong>last column</strong> without knowing its number:</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb356-1"><a></a><span class="fu">awk</span> <span class="st">'{print $NF}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Perfect when: - Files are huge - Lines have different column counts - You only need the final value</p>
</section>
<section id="field-separator-formats" class="slide level2">
<h2>Field Separator Formats</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Out there we have different file formats: our data may be comma separated (CSV), tab separated (TSV), by semicolon or by any other character.</p>
</div>
</div>
</div>
</section>
<section id="field-separators-default-behavior" class="slide level2">
<h2>Field Separators: Default Behavior</h2>
<p>By default, AWK splits on <strong>spaces and tabs</strong>.</p>
<p>For other separators, use <code>-F</code> flag.</p>
</section>
<section id="field-separator-comma--f" class="slide level2">
<h2>Field Separator: Comma (-F ‚Äú,‚Äù)</h2>
<p>For <strong>CSV files</strong>:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb357-1"><a></a><span class="fu">awk</span> <span class="at">-F</span> <span class="st">","</span> <span class="st">'{print $2}'</span> example.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note: comma becomes the <strong>separator</strong>, not part of field!</p>
<p>Spaces in fields are now <strong>part of the value</strong>.</p>
</section>
<section id="field-separator-other-examples" class="slide level2">
<h2>Field Separator: Other Examples</h2>
<p><strong>Colon separator:</strong></p>
<div class="sourceCode" id="cb358"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb358-1"><a></a><span class="fu">awk</span> <span class="at">-F</span> <span class="st">":"</span> <span class="st">'{print $1}'</span> /etc/passwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Tab separator:</strong></p>
<div class="sourceCode" id="cb359"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb359-1"><a></a><span class="fu">awk</span> <span class="at">-F</span> <span class="st">"\t"</span> <span class="st">'{print $2}'</span> file.tsv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="pattern-action-model" class="slide level2">
<h2>Pattern-Action Model</h2>
<p><strong>Run action only on matching lines</strong></p>
<div class="sourceCode" id="cb360"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb360-1"><a></a><span class="fu">awk</span> <span class="st">'/PATTERN/ {action}'</span> file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><strong>Pattern</strong>: regex to match</li>
<li><strong>Action</strong>: what to do if matched</li>
</ul>
</section>
<section id="regex-pattern-start-of-line" class="slide level2">
<h2>Regex Pattern: Start of Line (^)</h2>
<p>Print only lines starting with ‚ÄúATOM‚Äù:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb361-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {print $0}'</span> example.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>^</code> means <strong>beginning of line</strong>.</p>
</section>
<section id="multiple-patterns" class="slide level2">
<h2>Multiple Patterns</h2>
<p>Apply different actions to different patterns:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb362-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {count1++} /^HEADER/ {count2++}'</span> file.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or print specific fields from matching lines:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb363-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {print $7, $8, $9}'</span> file.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Example</strong>: Print x, y, z coordinates of atoms.</p>
<p>Combined patterns printing fields and header last field (from episode example):</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb364-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {print $7,$8,$9} /^HEADER/ {print $NF}'</span> example.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-end-block" class="slide level2">
<h2>The END Block</h2>
<p><strong>Runs after all lines are processed</strong></p>
<p>Perfect for <strong>printing totals and summaries</strong>.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb365-1"><a></a><span class="fu">awk</span> <span class="st">'{sum += $2} END {print sum}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Sums values from column 2 across all lines.</p>
</section>
<section id="the-nr-variable" class="slide level2">
<h2>The NR Variable</h2>
<p><strong>NR</strong> = Number of Records (total lines processed)</p>
<p>After file is read, <code>NR</code> = <strong>line count</strong>:</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb366-1"><a></a><span class="fu">awk</span> <span class="st">'END {print NR}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>More <strong>robust than <code>wc -l</code></strong> (handles missing final newline).</p>
</section>
<section id="comparing-line-counting-methods" class="slide level2">
<h2>Comparing Line Counting Methods</h2>
<p><strong>Using wc:</strong></p>
<div class="sourceCode" id="cb367"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb367-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>May undercount if last line lacks newline!</p>
<p><strong>Using AWK:</strong></p>
<div class="sourceCode" id="cb368"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb368-1"><a></a><span class="fu">awk</span> <span class="st">'END {print NR}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Always counts correctly!</p>
</section>
<section id="counting-matching-lines" class="slide level2">
<h2>Counting Matching Lines</h2>
<p>Count only lines starting with ‚ÄúATOM‚Äù:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb369-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {count++} END {print count}'</span> file.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>/^ATOM/</code> = match lines starting with ATOM</li>
<li><code>count++</code> = increment counter</li>
<li><code>END</code> = print final count</li>
</ul>
</section>
<section id="safe-counter-initialization" class="slide level2">
<h2>Safe Counter Initialization</h2>
<p>Avoid errors if no lines match:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb370-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {c++} END {print c+0}'</span> file.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Adding <code>+0</code> safely prints <strong>0 if no matches</strong>.</p>
</section>
<section id="multiple-counters-in-a-pattern" class="slide level2">
<h2>Multiple Counters in a Pattern</h2>
<p>Count atoms and sum their coordinates:</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb371-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {count++; x += $7; y += $8; z += $9} \</span></span>
<span id="cb371-2"><a></a><span class="st">    END {print count, x, y, z}'</span> file.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>count++</code> = count atoms</li>
<li><code>x += $7</code> = sum x coordinates</li>
<li><code>END</code> = print all totals</li>
</ul>
</section>
<section id="challenge-counting-and-selecting-simple" class="slide level2">
<h2>Challenge: Counting and Selecting (Simple)</h2>
<div class="challenge-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Challenge</strong></p>
</div>
<div class="callout-content">
<p>Using only the ideas covered above (field selection, patterns, <code>NF</code>, and <code>END</code>):</p>
<ol type="1">
<li>Write an <code>awk</code> command that prints the number of lines in <code>example.txt</code>.</li>
<li>Write an <code>awk</code> command that prints the number of lines in <code>example.pdb</code> that start with <code>ATOM</code>.</li>
<li>Write an <code>awk</code> command that prints the last field of each <code>ATOM</code> line in <code>example.pdb</code> (just the values, one per line).</li>
</ol>
<p>Bonus (optional): Print both the count of <code>ATOM</code> lines and, at the end, the total number of characters across all those last fields.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-counting-and-selecting" class="slide level2">
<h2>Solution: Counting and Selecting</h2>
<div class="solution-callout" style="border-left: 4px solid #ffc107;">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Solution</strong></p>
</div>
<div class="callout-content">
<p><strong>1) Total lines (robust):</strong></p>
<div class="sourceCode" id="cb372"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb372-1"><a></a><span class="fu">awk</span> <span class="st">'END {print NR}'</span> example.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>2) Count lines starting with <code>ATOM</code>:</strong></p>
<div class="sourceCode" id="cb373"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb373-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {c++} END {print c+0}'</span> example.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>3) Last field of each <code>ATOM</code> line:</strong></p>
<div class="sourceCode" id="cb374"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb374-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {print $NF}'</span> example.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Bonus (count and accumulate character lengths of last field):</strong></p>
<div class="sourceCode" id="cb375"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb375-1"><a></a><span class="fu">awk</span> <span class="st">'/^ATOM/ {c++; total += length($NF)} END {print "ATOM lines:", c+0; print "Total chars in last field:", total+0}'</span> example.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Explanation: - <code>NR</code> gives total lines after reading the file. - <code>/^ATOM/</code> pattern restricts actions to lines starting with <code>ATOM</code>. - <code>$NF</code> is the last field; <code>length($NF)</code> measures its size. - Counters (<code>c</code>, <code>total</code>) are printed in <code>END</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="built-in-functions" class="slide level2">
<h2>Built-in Functions</h2>
<p><strong>length()</strong>: measure string length</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb376-1"><a></a><span class="fu">awk</span> <span class="st">'{print length($1)}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>String concatenation</strong>:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb377-1"><a></a><span class="fu">awk</span> <span class="st">'{print $1 "_" $2}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Joins fields with underscore.</p>
</section>
<section id="arithmetic-and-aggregation" class="slide level2">
<h2>Arithmetic and Aggregation</h2>
<p><strong>Sum values:</strong></p>
<div class="sourceCode" id="cb378"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb378-1"><a></a><span class="fu">awk</span> <span class="st">'{sum += $1} END {print sum}'</span> numbers.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Calculate average:</strong></p>
<div class="sourceCode" id="cb379"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb379-1"><a></a><span class="fu">awk</span> <span class="st">'{sum += $1; count++} END {print sum/count}'</span> numbers.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="variable-assignment" class="slide level2">
<h2>Variable Assignment</h2>
<p>Set variables in AWK:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb380-1"><a></a><span class="fu">awk</span> <span class="st">'{x = $2 * 2; print x}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Use variables in calculations throughout.</p>
</section>
<section id="begin-block-advanced" class="slide level2">
<h2>BEGIN Block (Advanced)</h2>
<p>Initialize variables <strong>before processing</strong>:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb381-1"><a></a><span class="fu">awk</span> <span class="st">'BEGIN {total=0} {total += $1} END {print total}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>BEGIN</code> runs first (before any lines)</li>
<li><code>{total += $1}</code> processes each line</li>
<li><code>END</code> prints result</li>
</ul>
</section>
<section id="awk-programs-from-files" class="slide level2">
<h2><code>awk</code> Programs from Files</h2>
<p>For complex scripts, save to file.</p>
<p>Create <code>script.awk</code>:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode numberSource awk number-lines code-with-copy"><code class="sourceCode awk"><span id="cb382-1"><a></a><span class="ot">/^</span><span class="ss">ATOM</span><span class="ot">/</span> <span class="op">{</span></span>
<span id="cb382-2"><a></a>    count<span class="op">++</span></span>
<span id="cb382-3"><a></a>    x <span class="op">+=</span> <span class="dt">$7</span></span>
<span id="cb382-4"><a></a>    y <span class="op">+=</span> <span class="dt">$8</span></span>
<span id="cb382-5"><a></a>    z <span class="op">+=</span> <span class="dt">$9</span></span>
<span id="cb382-6"><a></a><span class="op">}</span></span>
<span id="cb382-7"><a></a></span>
<span id="cb382-8"><a></a><span class="cf">END</span> <span class="op">{</span></span>
<span id="cb382-9"><a></a>    <span class="kw">print</span> <span class="st">"Atoms:"</span><span class="op">,</span> count</span>
<span id="cb382-10"><a></a>    <span class="cf">if</span> <span class="op">(</span>count <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb382-11"><a></a>        <span class="kw">print</span> <span class="st">"Avg X:"</span><span class="op">,</span> x<span class="op">/</span>count</span>
<span id="cb382-12"><a></a>        <span class="kw">print</span> <span class="st">"Avg Y:"</span><span class="op">,</span> y<span class="op">/</span>count</span>
<span id="cb382-13"><a></a>        <span class="kw">print</span> <span class="st">"Avg Z:"</span><span class="op">,</span> z<span class="op">/</span>count</span>
<span id="cb382-14"><a></a>    <span class="op">}</span></span>
<span id="cb382-15"><a></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Run it:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb383-1"><a></a><span class="fu">awk</span> <span class="at">-f</span> script.awk protein.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="real-world-example-1" class="slide level2">
<h2>Real-World Example 1</h2>
<p>Extract chromosome and position from BED file:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb384-1"><a></a><span class="fu">awk</span> <span class="at">-F</span> <span class="st">"\t"</span> <span class="st">'{print $1, $2, $3}'</span> file.bed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="real-world-example-2" class="slide level2">
<h2>Real-World Example 2</h2>
<p>Count records by type:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb385-1"><a></a><span class="fu">awk</span> <span class="st">'{type[$1]++} END {for (t in type) print t, type[t]}'</span> data.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="real-world-example-3" class="slide level2">
<h2>Real-World Example 3</h2>
<p>Filter and sum:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb386-1"><a></a><span class="fu">awk</span> <span class="st">'$3 &gt; 1000 {sum += $3} END {print sum}'</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Only sum values in column 3 greater than 1000.</p>
</section>
<section id="key-concepts-summary" class="slide level2">
<h2>Key Concepts Summary</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Concept</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>$0</code></td>
<td>Entire line</td>
</tr>
<tr class="even">
<td><code>$1, $2, ...</code></td>
<td>Columns (fields)</td>
</tr>
<tr class="odd">
<td><code>NF</code></td>
<td>Number of fields</td>
</tr>
<tr class="even">
<td><code>$NF</code></td>
<td>Last field</td>
</tr>
<tr class="odd">
<td><code>NR</code></td>
<td>Line number / total lines</td>
</tr>
<tr class="even">
<td><code>-F</code></td>
<td>Field separator</td>
</tr>
<tr class="odd">
<td><code>/pattern/</code></td>
<td>Regex match</td>
</tr>
<tr class="even">
<td><code>END</code></td>
<td>After all lines</td>
</tr>
</tbody>
</table>
</section>
<section id="youve-completed-the-unix-shell-workshop" class="slide level2">
<h2>You‚Äôve Completed the Unix Shell Workshop!</h2>
<p><strong>Congratulations! üéâ</strong></p>
<p>You now know how to:</p>
<p>‚úì Navigate files and directories<br>
‚úì Manage and create files<br>
‚úì Combine commands with pipes<br>
‚úì Write loops and shell scripts<br>
‚úì Find files and search text<br>
‚úì Process data with AWK</p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1440,

        height: 810,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("git@github-work:Sanduni-P\/shell-novice\.git");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>